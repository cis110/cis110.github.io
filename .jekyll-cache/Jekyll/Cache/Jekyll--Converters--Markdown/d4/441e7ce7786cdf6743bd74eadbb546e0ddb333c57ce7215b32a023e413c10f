I"~ª<h2 id="0-getting-started">0. Getting Started</h2>

<hr />

<h3 id="a-goals">A. Goals</h3>

<p>The purpose of the Travelling Salesman Problem (TSP) assignment is to practice implementing linked lists. The specific goals are to:</p>

<ul>
  <li>Implement and use a linked list, a type of recursive data structure.</li>
  <li>Learn about the Travelling Salesman Problem, an important theoretical problem in computer science.</li>
</ul>

<hr />

<h3 id="b-background">B. Background</h3>

<p>A travelling salesman needs to visit each of n cities exactly once, and arrive back home, keeping the total distance travelled as short as possible. In this assignment, you will write a program to find a path connecting n points that passes through each point exactly once.</p>

<p>The travelling salesman problem is a notoriously difficult combinatorial optimization problem. There does not exist an efficient algorithm to find the optimal tour, the tour of smallest distance. The only way to find the optimal tour is to use brute force: to compute the distance of all possible tours. The problem with this is that there are n! (n factorial) possible tours; enumerating them all and computing their distance would be very slow.</p>

<p>However, there are efficient ways to find a tour that is near-optimal; these methods are called heuristics. You will implement two heuristics to find good (but not optimal) solutions to the traveling salesman problem. You will also implement a simpler method which creates a tour by traveling to points in order.</p>

<table>
  <tbody>
    <tr>
      <td><img src="images/1000pts.png" alt="1000 points" /></td>
      <td><img src="images/1000pts_optimal.png" alt="1000 pts tour" /></td>
    </tr>
    <tr>
      <td><strong>1,000 points</strong></td>
      <td><strong>Optimal tour through the same 1,000 points</strong></td>
    </tr>
  </tbody>
</table>

<p>The travelling salesman problem has a wealth of applications such as vehicle routing, circuit board drilling, circuit board design, robot control, X-ray crystallography, machine scheduling, and computational biology.</p>

<hr />

<h3 id="c-your-program">C. Your program</h3>

<p>In this assignment, you will write a <code class="language-plaintext highlighter-rouge">Tour</code> class that models a tour using a linked list of <code class="language-plaintext highlighter-rouge">Point</code> objects.</p>

<p>You will implement the following methods to insert points into a tour.</p>

<ul>
  <li><strong>In-order heuristic</strong> Insert each point at the end of the current tour. This is the easiest to implement.</li>
  <li><strong>Nearest-neighbor heuristic</strong> Insert each point into the tour after the point already in the tour which is closest to the point to be inserted.</li>
  <li><strong>Smallest-increase heuristic</strong> Insert each point into the tour between the two points which would cause the smallest increase in the total tour distance.</li>
</ul>

<hr />

<h3 id="d-designing-the-requirement-and-interface">D. Designing the Requirement and Interface</h3>

<p>Open HW7 on Codio and look at the files provided, or you can download them <a href="hw07_base/data.zip">here</a>. The provided files contain files you can use for testing as well as some helper classes and interfaces you will need:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">TourInterface.java</code> outlines the set of methods that your Tour class will have to implement.</li>
  <li><code class="language-plaintext highlighter-rouge">Point.java</code> is the class for point objects. Each node in the linked list (Tour) will hold a point object. Point objects are further explained in the next section.</li>
  <li><code class="language-plaintext highlighter-rouge">Node.java</code> represents nodes in your <code class="language-plaintext highlighter-rouge">Tour</code>‚Äôs linked list and is also described in the next section.</li>
  <li><code class="language-plaintext highlighter-rouge">VisualizeTour.java</code> is a program that helps you graphically test your <code class="language-plaintext highlighter-rouge">Tour</code> class as you write it. It takes a single command-line argument‚Äîthe name of the data file to use; directions for using it are displayed in the window which will appear when you run it.</li>
</ul>

<p>Review the class material and textbook chapters on linked lists.</p>

<hr />

<h2 id="1-tour-class">1. Tour Class</h2>

<p>In this section, you will write <code class="language-plaintext highlighter-rouge">Tour</code>, implementing <code class="language-plaintext highlighter-rouge">TourInterface</code>. The Tour is represented by a linked list which contains nodes. Each node contains a point which is essentially just a coordinate. Make sure you understand the distinction between the Tour, nodes, and points after reading section 1.</p>

<hr />

<h3 id="a-the-point-class">A. The <code class="language-plaintext highlighter-rouge">Point</code> Class</h3>
<p>The <code class="language-plaintext highlighter-rouge">Point</code> class file that represents a point, contained by a node, in a tour. Open it in Codio and study it carefully. The API is as follows:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Point</span>
<span class="o">----------------------------------------------------------------------------------------</span>
<span class="nc">Point</span><span class="o">(</span><span class="kt">double</span> <span class="n">x</span><span class="o">,</span> <span class="kt">double</span> <span class="n">y</span><span class="o">)</span>       <span class="c1">// create the Point (x, y)</span>
<span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span>               <span class="c1">// return String representation</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">()</span>                    <span class="c1">// draw Point using PennDraw</span>
<span class="kt">void</span> <span class="nf">drawTo</span><span class="o">(</span><span class="nc">Point</span> <span class="n">that</span><span class="o">)</span>        <span class="c1">// draw line segment between this  </span>
                               <span class="c1">// Point and that</span>
<span class="kt">double</span> <span class="nf">distanceTo</span><span class="o">(</span><span class="nc">Point</span> <span class="n">that</span><span class="o">)</span>  <span class="c1">// return Euclidean distance </span>
                               <span class="c1">// between this Point and that </span>
</code></pre></div></div>

<hr />

<h3 id="b-the-tour-class">B. The <code class="language-plaintext highlighter-rouge">Tour</code> Class</h3>
<p>Create a skeleton for your <code class="language-plaintext highlighter-rouge">Tour</code> class, which must implement <code class="language-plaintext highlighter-rouge">TourInterface</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">TourInterface</span>
<span class="o">----------------------------------------------------------------------------------------</span>
<span class="nc">String</span> <span class="nf">toString</span><span class="o">()</span>                 <span class="c1">//create a String representation </span>
                                  <span class="c1">// of the Tour</span>
<span class="kt">void</span> <span class="nf">draw</span><span class="o">(</span><span class="nc">Point</span> <span class="n">p</span><span class="o">)</span>       <span class="c1">// draw the Tour using PennDraw</span>
                         <span class="c1">// any edge starting or ending at p </span>
                         <span class="c1">// should be in a distinct color</span>
<span class="kt">int</span> <span class="nf">size</span><span class="o">()</span>                      <span class="c1">// number of Points in this Tour</span>
<span class="kt">double</span> <span class="nf">distance</span><span class="o">()</span>               <span class="c1">// return the total distance of the </span>
                                <span class="c1">// Tour</span>
<span class="kt">void</span> <span class="nf">insertInOrder</span><span class="o">(</span><span class="nc">Point</span> <span class="n">p</span><span class="o">)</span>     <span class="c1">// insert p at the end of the Tour</span>
<span class="kt">void</span> <span class="nf">insertNearest</span><span class="o">(</span><span class="nc">Point</span> <span class="n">p</span><span class="o">)</span>     <span class="c1">// insert p using the nearest        </span>
                                <span class="c1">// neighbor heuristic	</span>
<span class="kt">void</span> <span class="nf">insertSmallest</span><span class="o">(</span><span class="nc">Point</span> <span class="n">p</span><span class="o">)</span>    <span class="c1">// insert p using the smallest   </span>
                                   <span class="n">increase</span> <span class="n">heuristic</span>
</code></pre></div></div>

<p>Write method stubs for each method declaration in the <code class="language-plaintext highlighter-rouge">TourInterface</code> interface. The stubs  for methods with non-void return types must each return a dummy value so that  <code class="language-plaintext highlighter-rouge">Tour.java</code> compiles.</p>

<p>Add appropriate header comments and method comments.</p>

<hr />

<h3 id="c-the-node-class">C. The <code class="language-plaintext highlighter-rouge">Node</code> Class</h3>
<p>The <code class="language-plaintext highlighter-rouge">Node</code> class we have provided will form the basis of your <code class="language-plaintext highlighter-rouge">Tour</code> class‚Äôs linked list structure. Each <code class="language-plaintext highlighter-rouge">Node</code> stores a single <code class="language-plaintext highlighter-rouge">Point</code> in your <code class="language-plaintext highlighter-rouge">Tour</code>‚Äôs path and a reference to the next <code class="language-plaintext highlighter-rouge">Node</code> in the path. Its API is as follows:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Node</span>
<span class="o">--------------------------------------------------------------------------------------</span>
<span class="nc">Node</span><span class="o">(</span><span class="nc">Point</span> <span class="n">p</span><span class="o">)</span>                <span class="c1">// create a Node containing Point p</span>
<span class="nc">Node</span><span class="o">(</span><span class="nc">Node</span> <span class="n">n</span><span class="o">,</span> <span class="nc">Point</span> <span class="n">p</span><span class="o">)</span>        <span class="c1">// create a Node containing Point p and   </span>
                             <span class="c1">// with n as its next Node in the list</span>
</code></pre></div></div>

<p><strong>Declare</strong> (do not initialize yet) the following private fields in your Tour class:</p>
<ul>
  <li>A <code class="language-plaintext highlighter-rouge">Node</code> named <code class="language-plaintext highlighter-rouge">head</code>. This will represent the first <code class="language-plaintext highlighter-rouge">Node</code> in your <code class="language-plaintext highlighter-rouge">Tour</code>.</li>
  <li>A <code class="language-plaintext highlighter-rouge">Node</code> named <code class="language-plaintext highlighter-rouge">lastNode</code>. This will represent the last <code class="language-plaintext highlighter-rouge">Node</code> in your <code class="language-plaintext highlighter-rouge">Tour</code>. <strong>Whenever you append (add) a <code class="language-plaintext highlighter-rouge">Node</code> to the end of your linked list, it will be placed just before this <code class="language-plaintext highlighter-rouge">Node</code>.</strong> Essentially the <code class="language-plaintext highlighter-rouge">lastNode</code> never changes once it is initialized, but the node in the penultimate position of the tour can change.</li>
</ul>

<p>When your <code class="language-plaintext highlighter-rouge">Tour</code> class‚Äôs linked list is not empty, both <code class="language-plaintext highlighter-rouge">head</code> and <code class="language-plaintext highlighter-rouge">lastNode</code> must be different instances of the <code class="language-plaintext highlighter-rouge">Node</code> class (two different objects) yet each Node must  store the <strong>same</strong> <code class="language-plaintext highlighter-rouge">Point</code> object. That is, there will be two different Nodes in memory each of which contains a reference to one common Point in memory. Note that this is different from having each <code class="language-plaintext highlighter-rouge">Node</code> refer to distinct <code class="language-plaintext highlighter-rouge">Point</code> objects with equivalent values. The purpose of this is to represent the cyclical nature of the salesman‚Äôs route; he begins and ends at his home. <strong>This is a required implementation detail.</strong></p>

<p>You may not use Java‚Äôs built-in <code class="language-plaintext highlighter-rouge">LinkedList</code> class to implement your linked list. You should also <strong>not</strong> write your own class called <code class="language-plaintext highlighter-rouge">LinkedList</code> since your <code class="language-plaintext highlighter-rouge">Tour</code> class will handle all linked list functionality.</p>

<hr />

<h3 id="d-constructor-and-tostring">D. Constructor and <code class="language-plaintext highlighter-rouge">toString()</code></h3>
<p>Implement a single constructor for your <code class="language-plaintext highlighter-rouge">Tour</code> class that takes no arguments and creates an empty <code class="language-plaintext highlighter-rouge">Tour</code>. This means that both <code class="language-plaintext highlighter-rouge">head</code> and <code class="language-plaintext highlighter-rouge">lastNode</code> will be null.</p>

<p><code class="language-plaintext highlighter-rouge">toString()</code> returns a <code class="language-plaintext highlighter-rouge">String</code> representation of the <code class="language-plaintext highlighter-rouge">Tour</code> (the first <code class="language-plaintext highlighter-rouge">Point</code> should show up at the end as well, just like it does in your linked list structure). Call <code class="language-plaintext highlighter-rouge">toString()</code> <strong>on each <code class="language-plaintext highlighter-rouge">Point</code></strong> to get a <code class="language-plaintext highlighter-rouge">String</code> representation of the <code class="language-plaintext highlighter-rouge">Point</code>. Your output must match this description exactly in order to pass the autograder tests.</p>

<p>If the <code class="language-plaintext highlighter-rouge">Tour</code> is empty (has no Nodes), <code class="language-plaintext highlighter-rouge">toString()</code> should return the empty String.</p>

<p><strong>Required Testing:</strong> Add a <code class="language-plaintext highlighter-rouge">main</code> in which you create an empty tour and print it out. Your program should now simply print a blank line. Once this works, submit and make sure you also pass the empty tour submission test.</p>

<hr />

<h3 id="e-insertinorder">E. <code class="language-plaintext highlighter-rouge">insertInOrder()</code></h3>
<p>To facilitate testing, you will need to implement <code class="language-plaintext highlighter-rouge">insertInOrder()</code> so you can add Nodes to your tour.</p>

<p><code class="language-plaintext highlighter-rouge">insertInOrder(Point p)</code> adds a node storing <code class="language-plaintext highlighter-rouge">Point p</code> as the ‚Äúlast‚Äù node of the <code class="language-plaintext highlighter-rouge">Tour</code>.</p>

<p>Remember that your <code class="language-plaintext highlighter-rouge">Tour</code> class should always maintain <code class="language-plaintext highlighter-rouge">lastNode</code> at the end of the linked list referring to the same <code class="language-plaintext highlighter-rouge">Point</code> as the first node in the tour.</p>

<p>If the <code class="language-plaintext highlighter-rouge">Tour</code> is initially empty, make sure that after this method finishes, your linked list contains two <code class="language-plaintext highlighter-rouge">Node</code> objects, both referring to the same <code class="language-plaintext highlighter-rouge">Point</code>.</p>

<p>If you need to iterate over your linked list without specifically doing anything to it, you can do the following:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Node</span> <span class="n">curr</span> <span class="o">=</span> <span class="n">head</span><span class="o">;</span>
<span class="k">while</span> <span class="o">(</span><span class="n">curr</span><span class="o">.</span><span class="na">next</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
	<span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="na">next</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>Required Testing</strong>: Add code to <code class="language-plaintext highlighter-rouge">main</code> to create nodes with the following four points and add them to your tour using <code class="language-plaintext highlighter-rouge">insertInOrder()</code>:</p>
<ul>
  <li>a = (0, 0)</li>
  <li>b = (1, 0)</li>
  <li>c = (1, 1)</li>
  <li>d = (0, 1)</li>
</ul>

<p>The following image shows the structure of the link list these insertions should create:</p>

<p><img src="images/tour.png" alt="tour" /></p>

<p>Print out the tour using <code class="language-plaintext highlighter-rouge">System.out.println</code> You should see the following output (including a blank line at the end):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(0.0, 0.0)
(1.0, 0.0)
(1.0, 1.0)
(0.0, 1.0)
(0.0, 0.0)
</code></pre></div></div>

<p>Once this test passes, submit your code and make sure it passes our <code class="language-plaintext highlighter-rouge">toString()</code> tests for <code class="language-plaintext highlighter-rouge">insertInOrder()</code> as well. (At this point, your code will still fail the tests for <code class="language-plaintext highlighter-rouge">size()</code> and <code class="language-plaintext highlighter-rouge">distance()</code>.)</p>

<hr />

<h3 id="f-utility-methods">F. Utility Methods</h3>
<p>Implement the <code class="language-plaintext highlighter-rouge">size()</code>, <code class="language-plaintext highlighter-rouge">distance()</code>, and <code class="language-plaintext highlighter-rouge">draw()</code> methods of <code class="language-plaintext highlighter-rouge">Tour</code>. There are many good ways to implement these methods, using for loops, while loops, or recursion. The choice is up to you.</p>

<p><code class="language-plaintext highlighter-rouge">size()</code> returns the number of <code class="language-plaintext highlighter-rouge">Point</code>s in the <code class="language-plaintext highlighter-rouge">Tour</code>, (counting the point in Head and lastNode only once).</p>

<p><code class="language-plaintext highlighter-rouge">distance()</code> returns the total length of the <code class="language-plaintext highlighter-rouge">Tour</code> from <code class="language-plaintext highlighter-rouge">Point</code> to <code class="language-plaintext highlighter-rouge">Point</code>. Use the <code class="language-plaintext highlighter-rouge">distanceTo(Point p)</code> method of a <code class="language-plaintext highlighter-rouge">Point</code> to find its distance to <code class="language-plaintext highlighter-rouge">p</code>. An empty <code class="language-plaintext highlighter-rouge">Tour</code> has a distance of <code class="language-plaintext highlighter-rouge">0.0</code>.</p>

<p><code class="language-plaintext highlighter-rouge">draw(Point p)</code> draws the entire <code class="language-plaintext highlighter-rouge">Tour</code> from <code class="language-plaintext highlighter-rouge">Point</code> to <code class="language-plaintext highlighter-rouge">Point</code> using functions that call <code class="language-plaintext highlighter-rouge">PennDraw</code> code. Both edges adjacent to the input <code class="language-plaintext highlighter-rouge">Point p</code> should be drawn in a different color (if <code class="language-plaintext highlighter-rouge">p</code> is <code class="language-plaintext highlighter-rouge">null</code>, none of the edges should be in a different color). Use the <code class="language-plaintext highlighter-rouge">drawTo(Point q)</code> method of a <code class="language-plaintext highlighter-rouge">Point</code> to draw a line from it to <code class="language-plaintext highlighter-rouge">q</code>. As we have provided <code class="language-plaintext highlighter-rouge">VisualizeTour</code> to handle setting up PennDraw‚Äôs canvas for drawing your <code class="language-plaintext highlighter-rouge">Tour</code>, all this function needs to do is call the <code class="language-plaintext highlighter-rouge">drawTo</code> method to draw every line segment between adjacent <code class="language-plaintext highlighter-rouge">Points</code>. If an empty <code class="language-plaintext highlighter-rouge">Tour</code> calls the <code class="language-plaintext highlighter-rouge">draw</code> method, the method should simply return without drawing anything.</p>

<p>The image below shows what our reference draws when we call <code class="language-plaintext highlighter-rouge">tour.draw(a)</code> (refer to section E for the value of <code class="language-plaintext highlighter-rouge">a</code>). <code class="language-plaintext highlighter-rouge">tour</code> is the four-point <code class="language-plaintext highlighter-rouge">Tour</code> we created for testing.</p>

<p><img src="images/square.png" alt="tour image" /></p>

<p><strong>Required Testing</strong>: Add code to <code class="language-plaintext highlighter-rouge">main</code> to test each of these methods on an empty tour, a tour containing only one point, a tour containing two points, and a tour containing four points. We encourage you to include additional tests as well. When you are certain all of your own tests work, submit and make sure our tests pass as well.</p>

<p>As you debug your code, you may find this <a href="http://www.cs.princeton.edu/~cos126/java_visualize">Java execution visualizer</a> helpful. (It was created by <a href="https://github.com/daveagp/java_jail">daveagp</a>.)</p>

<hr />

<h2 id="2-insertion-heuristics">2. Insertion Heuristics</h2>

<hr />

<h3 id="a-testing-with-visualizetour">A. Testing with <code class="language-plaintext highlighter-rouge">VisualizeTour</code></h3>
<p>The <code class="language-plaintext highlighter-rouge">VisualizeTour</code> program included provides a user interface for you to test the methods you have written in <code class="language-plaintext highlighter-rouge">Tour</code>. Run it with a filename argument (one of the files we provide) in the terminal to animate the construction of your <code class="language-plaintext highlighter-rouge">Tour</code>. In the table at the bottom of this page, we have listed the values of <code class="language-plaintext highlighter-rouge">size()</code> and <code class="language-plaintext highlighter-rouge">distance()</code> that your methods should obtain for each insert method, as well as the <code class="language-plaintext highlighter-rouge">PennDraw</code> output that <code class="language-plaintext highlighter-rouge">draw()</code> should produce.</p>

<p>You might find it helpful to write a helper function that, given a point, inserts a new Node after a given <code class="language-plaintext highlighter-rouge">Node</code>.</p>

<p><strong>Required Testing</strong>: Check that your in-order insertion method works for at least the input files <code class="language-plaintext highlighter-rouge">tsp0.txt</code>, <code class="language-plaintext highlighter-rouge">tsp1.txt</code>, <code class="language-plaintext highlighter-rouge">tsp2.txt</code>, <code class="language-plaintext highlighter-rouge">tsp3.txt</code>, <code class="language-plaintext highlighter-rouge">tsp4.txt</code>, <code class="language-plaintext highlighter-rouge">tsp5.txt</code>, <code class="language-plaintext highlighter-rouge">tsp8.txt</code>, <code class="language-plaintext highlighter-rouge">tsp10.txt</code>, and <code class="language-plaintext highlighter-rouge">tsp100.txt</code>. Both the drawing itself, and the size and distance, need to match the reference outputs at the bottom of the page.  <strong>Do not continue until <code class="language-plaintext highlighter-rouge">insertInOrder</code> works for all these cases!</strong></p>

<hr />

<h3 id="b-insertnearest">B. <code class="language-plaintext highlighter-rouge">insertNearest()</code></h3>
<p><code class="language-plaintext highlighter-rouge">insertNearest(Point p)</code> adds a Node storing the <code class="language-plaintext highlighter-rouge">Point p</code> to the <code class="language-plaintext highlighter-rouge">Tour</code> <strong>after</strong> the closest <code class="language-plaintext highlighter-rouge">Point</code> (Node) already in the <code class="language-plaintext highlighter-rouge">Tour</code>.</p>

<p>If there are multiple closest <code class="language-plaintext highlighter-rouge">Point</code>s with equal distances to <code class="language-plaintext highlighter-rouge">p</code>, insert <code class="language-plaintext highlighter-rouge">p</code> after the <strong>first</strong> such <code class="language-plaintext highlighter-rouge">Point</code> in the linked list.</p>

<p>Your method must behave as <code class="language-plaintext highlighter-rouge">insertInOrder()</code> does <strong>when the linked list is empty.</strong></p>

<p><strong>Required Testing</strong>: Make sure your <code class="language-plaintext highlighter-rouge">VisualizeTour</code> results match the figures below for the Nearest-Neighbor Heuristic for all test cases through <code class="language-plaintext highlighter-rouge">tsp100.txt</code>. Both the drawing itself, and the size and distance, need to match. Then submit and make sure it passes our submission tests as well.</p>

<hr />

<h3 id="c-insertsmallest">C. <code class="language-plaintext highlighter-rouge">insertSmallest()</code></h3>
<p><code class="language-plaintext highlighter-rouge">insertSmallest(Point p)</code> adds a Node storing <code class="language-plaintext highlighter-rouge">Point p</code> to the <code class="language-plaintext highlighter-rouge">Tour</code> in the position where it would cause the smallest increase in the <code class="language-plaintext highlighter-rouge">Tour</code>‚Äôs distance.</p>

<p>Do not compute the entire <code class="language-plaintext highlighter-rouge">Tour</code> distance for each position of <code class="language-plaintext highlighter-rouge">p</code>. Instead, compute the <strong>incremental</strong> distance: <em>the change in distance from adding <code class="language-plaintext highlighter-rouge">p</code> between <code class="language-plaintext highlighter-rouge">Point</code>s <code class="language-plaintext highlighter-rouge">s</code> and <code class="language-plaintext highlighter-rouge">t</code> is the sum of the distances from <code class="language-plaintext highlighter-rouge">s</code> to <code class="language-plaintext highlighter-rouge">p</code> and from <code class="language-plaintext highlighter-rouge">p</code> to <code class="language-plaintext highlighter-rouge">t</code>, minus the original distance from <code class="language-plaintext highlighter-rouge">s</code> to <code class="language-plaintext highlighter-rouge">t</code>.</em></p>

<p>If there are multiple positions for <code class="language-plaintext highlighter-rouge">p</code> that cause the same minimal increase in distance, insert <code class="language-plaintext highlighter-rouge">p</code> in the <strong>first</strong> such position.</p>

<p>Your method must behave as <code class="language-plaintext highlighter-rouge">insertInOrder()</code> does when the linked list is empty.</p>

<p>If you wrote a helper function when writing <code class="language-plaintext highlighter-rouge">insertInOrder()</code> that inserts a given <code class="language-plaintext highlighter-rouge">Point</code> after a given <code class="language-plaintext highlighter-rouge">Node</code>, you may find it useful again here.</p>

<p><strong>Comment out all print statements in <code class="language-plaintext highlighter-rouge">Tour</code> before running <code class="language-plaintext highlighter-rouge">VisualizeTour</code> on a file of more than 100 <code class="language-plaintext highlighter-rouge">Point</code>s.</strong> Otherwise, you will be waiting for a long time for <code class="language-plaintext highlighter-rouge">VisualizeTour</code> to finish.</p>

<p><strong>Required Testing</strong>: Make sure your <code class="language-plaintext highlighter-rouge">VisualizeTour</code> results match the figures below for all test cases through <code class="language-plaintext highlighter-rouge">tsp100.txt</code>. Both the drawing itself, and the size and distance, need to match. Then submit and make sure it passes our submission tests as well.</p>

<hr />

<h3 id="d-reference-output">D. Reference Output</h3>
<p>Test your nearest-neighbor heuristic and smallest-increase heuristic methods using <code class="language-plaintext highlighter-rouge">VisualizeTour</code>. The following are the values and <code class="language-plaintext highlighter-rouge">PennDraw</code> output that your <code class="language-plaintext highlighter-rouge">Tour</code> methods should give for each of the provided input files. Note that for the files containing large quantities of points, such as mona-50k.txt, your program may take a long time to build the tour. You may have to wait for several moments, staring at a blank white PennDraw canvas, before your tour is visualized.</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th style="text-align: center">File</th>
      <th style="text-align: center">In-Order Insertion(<code class="language-plaintext highlighter-rouge">'o'</code>)</th>
      <th style="text-align: center">Nearest-Neighbor Heuristic(<code class="language-plaintext highlighter-rouge">'n'</code>)</th>
      <th style="text-align: center">Smallest-Increase Heuristic(<code class="language-plaintext highlighter-rouge">'s'</code>)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp0.txt</code></td>
      <td style="text-align: center">Size: 0 <br /> Distance: 0.0000</td>
      <td style="text-align: center">Size: 0 <br /> Distance: 0.0000</td>
      <td style="text-align: center">Size: 0 <br /> Distance: 0.0000</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp1.txt</code></td>
      <td style="text-align: center">Size: 1 <br /> Distance: 0.0000</td>
      <td style="text-align: center">Size: 1 <br /> Distance: 0.0000</td>
      <td style="text-align: center">Size: 1 <br /> Distance: 0.0000</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp2.txt</code></td>
      <td style="text-align: center">Size: 2 <br /> Distance: 632.46 <br /> <img src="images/tours/tour2.png" alt="tour 2" /></td>
      <td style="text-align: center">Size: 2 <br /> Distance: 632.46 <br /> <img src="images/tours/tour2.png" alt="tour 2" /></td>
      <td style="text-align: center">Size: 2 <br /> Distance: 632.46 <br /> <img src="images/tours/tour2.png" alt="tour 2" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp3.txt</code></td>
      <td style="text-align: center">Size: 3 <br /> Distance: 832.46 <br /> <img src="images/tours/tour3.png" alt="tour 3" /></td>
      <td style="text-align: center">Size: 3 <br /> Distance: 832.46 <br /> <img src="images/tours/tour3.png" alt="tour 3" /></td>
      <td style="text-align: center">Size: 3 <br /> Distance: 832.46 <br /> <img src="images/tours/tour3.png" alt="tour 3" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp4.txt</code></td>
      <td style="text-align: center">Size: 4 <br /> Distance: 963.44 <br /> <img src="images/tours/tour4_inorder.png" alt="tour 4 in order" /></td>
      <td style="text-align: center">Size: 4 <br /> Distance: 956.06 <br /> <img src="images/tours/tour4_nearest.png" alt="tour 4 nearest" /></td>
      <td style="text-align: center">Size: 4 <br /> Distance: 839.83 <br /> <img src="images/tours/tour4_smallest.png" alt="tour 4 smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp5.txt</code></td>
      <td style="text-align: center">Size: 5 <br /> Distance: 2595.1 <br /> <img src="images/tours/tour5_inorder.png" alt="tour 5 in order" /></td>
      <td style="text-align: center">Size: 5 <br /> Distance: 2595.1 <br /> <img src="images/tours/tour5_nearest.png" alt="tour 5 nearest" /></td>
      <td style="text-align: center">Size: 5 <br /> Distance: 1872.8 <br /> <img src="images/tours/tour5_smallest.png" alt="tour 5 smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp8.txt</code></td>
      <td style="text-align: center">Size: 8 <br /> Distance: 3898.9 <br /> <img src="images/tours/tour8_inorder.png" alt="tour 8 in order" /></td>
      <td style="text-align: center">Size: 8 <br /> Distance: 3378.8 <br /> <img src="images/tours/tour8_nearest.png" alt="tour 8 nearest" /></td>
      <td style="text-align: center">Size: 8 <br /> Distance: 2545.6 <br /> <img src="images/tours/tour8_smallest.png" alt="tour 8 smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp10.txt</code></td>
      <td style="text-align: center">Size: 10 <br /> Distance: 2586.7 <br /> <img src="images/tours/tour10_inorder.png" alt="tour 10 in order" /></td>
      <td style="text-align: center">Size: 10 <br /> Distance: 1566.1 <br /> <img src="images/tours/tour10_nearest.png" alt="tour 10 nearest" /></td>
      <td style="text-align: center">Size: 10 <br /> Distance: 1655.7 <br /> <img src="images/tours/tour10_smallest.png" alt="tour 10 smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp100.txt</code></td>
      <td style="text-align: center">Size: 100 <br /> Distance: 25547 <br /> <img src="images/tours/tour100_inorder.png" alt="tour 100 in order" /></td>
      <td style="text-align: center">Size: 100 <br /> Distance: 7389.9 <br /> <img src="images/tours/tour100_nearest.png" alt="tour 100 nearest" /></td>
      <td style="text-align: center">Size: 100 <br /> Distance: 4887.2 <br /> <img src="images/tours/tour100_smallest.png" alt="tour 100 smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">tsp1000.txt</code></td>
      <td style="text-align: center">Size: 1000 <br /> Distance: 3.2769e+05 <br /> <img src="images/tours/tour1000_inorder.png" alt="tour 1000 in order" /></td>
      <td style="text-align: center">Size: 1000 <br /> Distance: 27869 <br /> <img src="images/tours/tour1000_nearest.png" alt="tour 1000 nearest" /></td>
      <td style="text-align: center">Size: 1000 <br /> Distance: 17266 <br /> <img src="images/tours/tour1000_smallest.png" alt="tour 1000 smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">bier127.txt</code></td>
      <td style="text-align: center">Size: 127 <br /> Distance: 21743 <br /> <img src="images/tours/bier127_inorder.png" alt="bier in order" /></td>
      <td style="text-align: center">Size: 127 <br /> Distance: 6494.0 <br /> <img src="images/tours/bier127_nearest.png" alt="bier nearest" /></td>
      <td style="text-align: center">Size: 127 <br /> Distance: 4536.8 <br /> <img src="images/tours/bier127_smallest.png" alt="bier smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">circuit1290.txt</code></td>
      <td style="text-align: center">Size: 1290 <br /> Distance: 4.303e+05 <br /> <img src="images/tours/circuit1290_inorder.png" alt="circuit in order" /></td>
      <td style="text-align: center">Size: 1290 <br /> Distance: 25030 <br /> <img src="images/tours/circuit1290_nearest.png" alt="circuit nearest" /></td>
      <td style="text-align: center">Size: 1290 <br /> Distance: 14596 <br /> <img src="images/tours/circuit1290_smallest.png" alt="circuit smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">germany15112.txt</code></td>
      <td style="text-align: center">Size: 15112 <br /> Distance: 4.2116e+06 <br /> <img src="images/tours/germany15112_inorder.png" alt="germany in order" /></td>
      <td style="text-align: center">Size: 15112 <br /> Distance: 93119 <br /> <img src="images/tours/germany15112_nearest.png" alt="germany nearest" /></td>
      <td style="text-align: center">Size: 15112 <br /> Distance: 55754 <br /> <img src="images/tours/germany15112_smallest.png" alt="germany smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">mona-20k.txt</code></td>
      <td style="text-align: center">Size: 20000 <br /> Distance: 4.9650e+06 <br /> <img src="images/tours/mona20_inorder.png" alt="mona 20k in order" /></td>
      <td style="text-align: center">Size: 20000 <br /> Distance: 94894 <br /> <img src="images/tours/mona20_nearest.png" alt="mona 20k nearest" /></td>
      <td style="text-align: center">Size: 20000 <br /> Distance: 56334 <br /> <img src="images/tours/mona20_smallest.png" alt="mona 20k smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">mona-50k.txt</code></td>
      <td style="text-align: center">Size: 50000 <br /> Distance: 1.2366e+07 <br /> <img src="images/tours/mona50_inorder.png" alt="mona 50k in order" /></td>
      <td style="text-align: center">Size: 50000 <br /> Distance: 1.6168e+05 <br /> <img src="images/tours/mona50_nearest.png" alt="mona 50k nearest" /></td>
      <td style="text-align: center">Size: 50000 <br /> Distance: 95598 <br /> <img src="images/tours/mona50_smallest.png" alt="mona 50k smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">mona-100k.txt</code></td>
      <td style="text-align: center">Size: 100001 <br /> Distance: 2.4795e+07 <br /> <img src="images/tours/mona100_inorder.png" alt="mona 100k in order" /></td>
      <td style="text-align: center">Size: 100001 <br /> Distance. 2.6272e+05 <br /> <img src="images/tours/mona100_nearest.png" alt="mona 100k nearest" /></td>
      <td style="text-align: center">Size: 100001 <br /> Distance: 1.5472e+05 <br /> <img src="images/tours/mona100_smallest.png" alt="mona 100k smallest" /></td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="language-plaintext highlighter-rouge">usa13509.txt</code></td>
      <td style="text-align: center">Size: 13509 <br /> Distance: 3.9108e+06 <br /> <img src="images/tours/usa13509_inorder.png" alt="usa in order" /></td>
      <td style="text-align: center">Size: 13509 <br /> Distance: 77450 <br /> <img src="images/tours/usa13509_nearest.png" alt="usa nearest" /></td>
      <td style="text-align: center">Size: 13509 <br /> Distance: 45075 <br /> <img src="images/tours/usa13509_smallest.png" alt="usa smallest" /></td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="3-extra-credit">3. Extra Credit</h2>

<hr />

<h3 id="a-extra-credit">A. Extra Credit</h3>
<p>For extra credit, implement a better heuristic in a class <code class="language-plaintext highlighter-rouge">TourEC</code> that implements the <code class="language-plaintext highlighter-rouge">TourECInterface</code> interface. You are not required to use the <code class="language-plaintext highlighter-rouge">Tour</code> or <code class="language-plaintext highlighter-rouge">Point</code> classes for your extra credit solution. <strong>If you use a modified version of these classes to implement <code class="language-plaintext highlighter-rouge">TourEC</code>, include them in your extra.zip</strong>; otherwise, your TA may be unable to compile your code.</p>

<p>Be warned that this is a relatively difficult extra credit, although it gives an opportunity to learn a great deal about an extremely important problem. Try to write a <code class="language-plaintext highlighter-rouge">TourEC</code> that implements one of the heuristics below.</p>

<p>Here are some heuristics you may choose to implement.</p>

<p><strong>Farthest insertion</strong> The farthest insertion heuristic is just like the smallest increase insertion heuristic described in the assignment, except that the <code class="language-plaintext highlighter-rouge">Point</code>s need not be inserted in the same order as the input. Start with a <code class="language-plaintext highlighter-rouge">Tour</code> consisting of the two <code class="language-plaintext highlighter-rouge">Point</code>s that are farthest apart. Repeat the following:</p>
<ul>
  <li>Among all <code class="language-plaintext highlighter-rouge">Point</code>s not in the <code class="language-plaintext highlighter-rouge">Tour</code>, choose the one that is farthest from any <code class="language-plaintext highlighter-rouge">Point</code> already in the <code class="language-plaintext highlighter-rouge">Tour</code>.</li>
  <li>Insert that <code class="language-plaintext highlighter-rouge">Point</code> into the <code class="language-plaintext highlighter-rouge">Tour</code> in the position where it causes the smallest increase in the distance.</li>
</ul>

<p>You will have to store all of the unused <code class="language-plaintext highlighter-rouge">Point</code>s in an appropriate data structure, until they get inserted into the <code class="language-plaintext highlighter-rouge">Tour</code>. If your code takes a long time, your algorithm probably performs approximately n3steps. If you‚Äôre careful and clever, this can be improved to n2 steps.</p>

<p><strong>Node interchange local search</strong> Run the original greedy heuristic (or any other heuristic). Then, repeat the following:</p>
<ul>
  <li>Choose a pair of <code class="language-plaintext highlighter-rouge">Point</code>s.</li>
  <li>Swap the two <code class="language-plaintext highlighter-rouge">Point</code>s in if this improves the <code class="language-plaintext highlighter-rouge">Tour</code>. For example if the original greedy heuristic returns 1-5-6-2-3-4-1, you might consider swapping 5 and 3 if the <code class="language-plaintext highlighter-rouge">Tour</code> 1-3-6-2-5-4-1 has a smaller distance.</li>
</ul>

<p>Writing a function to swap two nodes in a linked list provides great practice with coding linked lists. Be careful, it can be a little trickier that you might first expect (e.g., make sure your code handles the case when the two <code class="language-plaintext highlighter-rouge">Point</code>s occur consecutively in the original <code class="language-plaintext highlighter-rouge">Tour</code>).</p>

<p><strong>Edge interchange local search</strong> Run the original greedy heuristic (or any other heuristic). Then, repeat the following:</p>
<ul>
  <li>Choose a pair of edges, say 1-2 and 3-4.</li>
  <li>Replace them with 1-3 and 2-4 if the resulting <code class="language-plaintext highlighter-rouge">Tour</code> 1-3-6-2-5-4-1 has a smaller distance.</li>
</ul>

<p>This requires some care, as you will have to reverse the orientation of the links in the original <code class="language-plaintext highlighter-rouge">Tour</code> between <code class="language-plaintext highlighter-rouge">Node</code>s 3 and 2. After performing this heuristic, there will be no crossing edges in the <code class="language-plaintext highlighter-rouge">Tour</code>, although it need not be optimal.</p>

<hr />

<h3 id="b-enrichment">B. Enrichment</h3>
<ul>
  <li>The best known tour for <code class="language-plaintext highlighter-rouge">tsp1000.txt</code> is a solution of distance 15476.519, which was found using the <a href="http://www.tsp.gatech.edu/concorde.html">Concorde TSP solver</a>.</li>
  <li>Georgia Tech‚Äôs <a href="http://www.tsp.gatech.edu/">TSP site</a> contains a wealth of interesting information including many applications of the TSP and <a href="http://www.tsp.gatech.edu/games/tspOnePlayer.html">two TSP games</a>.</li>
  <li>Here‚Äôs a <a href="https://www.cis.upenn.edu/~cis110/19fa/hw/hw07/tsp13509.gif">13,509 city problem</a> that contains each of the 13,509 cities in the continental US with population over 500. The <a href="https://www.cis.upenn.edu/~cis110/19fa/hw/hw07/tsp13509-sol.jpg">optimal solution</a> was discovered in 1998 by Applegate, Bixby, Chvatal and Cook using theoretical ideas from <strong>linear and integer programming</strong>. The following <a href="https://www.cis.upenn.edu/~cis110/19fa/hw/hw07/tsp15112.pdf">15,112 city problem</a> was solved to optimality in April, 2001, and is the current world record. It took 585,936,700 CPU seconds (along with a ton of cleverness) to find the optimal tour through 15,112 cities in Germany.</li>
  <li>Some folks even use the TSP to create and sell art. Check out <a href="http://www.oberlin.edu/math/faculty/bosch/tspart-page.html">Bob Bosch‚Äôs page</a>. You can even <a href="http://www.oberlin.edu/math/faculty/bosch/making-tspart-page.html">make your own TSP artwork</a>.</li>
  <li>Here is a <a href="http://campaignstops.blogs.nytimes.com/2011/12/21/the-problem-of-the-traveling-politician/">New York Times article</a> on finding an optimal traveling politician tour in the state of Iowa.</li>
  <li>Here‚Äôs a <a href="http://www.research.att.com/~dsj/papers/TSPchapter.pdf">survey article</a> on heuristics for the TSP.</li>
</ul>

<hr />

<h2 id="4-submission">4. Submission</h2>

<hr />

<h3 id="a-readme">A. Readme</h3>
<p>Complete <code class="language-plaintext highlighter-rouge">readme_tsp.txt</code> in the same way that you have done for previous assignments.</p>

<hr />

<h3 id="b-submission">B. Submission</h3>
<p>Submit <code class="language-plaintext highlighter-rouge">Tour.java</code> and <code class="language-plaintext highlighter-rouge">readme_tsp.txt</code> on gradescope.</p>

<p>You may also submit a <code class="language-plaintext highlighter-rouge">TourEC.java</code> file for extra credit. If your <code class="language-plaintext highlighter-rouge">TourEC.java</code> requires any additional files, <strong>including a modified <code class="language-plaintext highlighter-rouge">Point.java</code> or <code class="language-plaintext highlighter-rouge">Tour.java</code></strong>, make sure to submit those as well.</p>
:ET