I"®ó<h2 id="hail-caesar">Hail, Caesar!</h2>

<hr />

<h3 id="goals">Goals</h3>

<p>The goals of this part of the assignment are to practice using functions, arrays, and strings in Java, as well as to learn about the field of cryptography. The specific goals are:</p>

<ul>
  <li>To write and use functions, and understand the use of helper functions
use and manipulate arrays</li>
  <li>Learn about String manipulation and ASCII encoding</li>
  <li>To become acquainted with cryptography</li>
</ul>

<p>At the end of the assignment, you will have a program that can encrypt, decrypt, and crack the Caesar cipher!</p>

<hr />

<h3 id="background">Background</h3>

<p>Cryptography is the study of secure communications and secret codes. It helps you, say, send a secret message across enemy lines, knowing that even if the message is intercepted, it could not be read. People have been using ciphers (encrypted messages) for thousands of years, but only in the last century have computers come into the field. One of the oldest ways to hide a message is to use a substitution cipher. One classic example of a substitution cipher is the Caesar cipher, named after the first recorded (and most famous) user, Julius Caesar. If you‚Äôd like to learn more about the Caesar cipher, you can check out the <a href="https://en.wikipedia.org/wiki/Caesar_cipher">wikipedia page</a> to read about its history and usage.</p>

<p><img src="hw03_base/caesar.jpg" alt="caesar_img" /></p>

<p><em>Julius Caesar</em></p>

<hr />

<h3 id="understanding-the-problem">Understanding the Problem</h3>

<p>The Caesar cipher is a basic encryption technique where all letters in a message are shifted down the alphabet by a certain number (determined by the key). In order to encrypt or decrypt a message, you will need a secret key that should, in practice, be hard to find if you don‚Äôt already know it. In the Caesar cipher, the key is the number of places to shift each character. This number could be specified numerically (e.g., 4) or it could be specified as a character (e.g., ‚ÄòE‚Äô ‚Äì which is 4 places over from ‚ÄòA‚Äô).  For simplicity, we typically convert the entire message to uppercase, and may omit punctuation.</p>

<p>For instance, consider the message (and famous Julius Caesar quote): ‚ÄúCAESAR‚ÄôS WIFE MUST BE ABOVE SUSPICION‚Äù and the key ‚ÄúE‚Äù, which says to change each letter in the message to the letter four places to the right in the alphabet. For example, ‚ÄòC‚Äô becomes ‚ÄòG‚Äô, ‚ÄòA‚Äô becomes ‚ÄòE‚Äô, etc. Note the letter ‚ÄòW‚Äô in ‚ÄúWIFE‚Äù, when shifted four down, goes beyond ‚ÄòZ‚Äô. This is handled by wrapping back to the front of the alphabet, and so ‚ÄòW‚Äô becomes ‚ÄòA‚Äô.</p>

<p>In total, the message becomes:
GEIWEV‚ÄôW AMJI QYWX FI EFSZI WYWTMGMSR</p>

<hr />

<h3 id="program-requirements">Program Requirements</h3>

<p>By the end of this assignment, you will have a <code class="language-plaintext highlighter-rouge">Caesar.java</code> program which takes in command line arguments that will tell it whether to:</p>

<ul>
  <li>Encrypt a message using a particular key</li>
  <li>Decrypt a message using a particular key, or</li>
  <li>Crack an encrypted message, giving us back the secret key</li>
</ul>

<p>The message will be stored in a file, which will be read by the program.
To encrypt the message stored in <code class="language-plaintext highlighter-rouge">plaintext.txt</code> with a key of ‚ÄòG‚Äô, you would call
<code class="language-plaintext highlighter-rouge">java Caesar encrypt plaintext.txt G</code>
To decrypt the message stored in <code class="language-plaintext highlighter-rouge">cipher.txt</code> with a key of ‚ÄòG‚Äô, you would call
<code class="language-plaintext highlighter-rouge">java Caesar decrypt cipher.txt G</code>
To crack the message stored in <code class="language-plaintext highlighter-rouge">cipher.txt</code>, you would call
<code class="language-plaintext highlighter-rouge">java Caesar crack cipher.txt english.txt</code>
<code class="language-plaintext highlighter-rouge">cipher.txt</code> and <code class="language-plaintext highlighter-rouge">plaintext.txt</code> are not files that we provide. You must construct them on your own. <code class="language-plaintext highlighter-rouge">plaintext.txt</code> can be any message whereas cipher.txt should be the output of a <code class="language-plaintext highlighter-rouge">plaintext.txt</code> once it has been encrypted.</p>

<hr />

<h3 id="getting-started">Getting Started</h3>

<p>Codio should contain <code class="language-plaintext highlighter-rouge">Caesar.java</code>, which is the file you will be writing all of your code in. It also contains three text files: <code class="language-plaintext highlighter-rouge">english.txt</code>, <code class="language-plaintext highlighter-rouge">encrypted_message.txt</code>, and <code class="language-plaintext highlighter-rouge">readme_caesar.txt</code>. If you need the originals again, download the <a href="hw03_base/base.zip">base folder</a>.</p>

<hr />

<h3 id="helpful-tips">Helpful Tips</h3>
<ul>
  <li>If you want to print out an array, you won‚Äôt be able to print the array itself. You need to create a loop and print each element of the array.</li>
  <li>Printing and returning are <strong>NOT</strong> the same thing. Printing is a side effect of your program, whereas a return statement allows your output to propagate back to where you originally called the function, at which point you can save and use that value for whatever you‚Äôre doing. 
<code class="language-plaintext highlighter-rouge">return null;</code> is just a dummy return statement to make the starter files compile. You should replace them when you implement the functions.</li>
</ul>

<hr />

<h3 id="low-level-functions">Low-level Functions</h3>

<h4 id="understanding-the-representation">Understanding the Representation</h4>

<p>Before we begin encrypting messages, we first need to decide how to represent a message in our program. The obvious choice would be to store them as a String. This would certainly work, but may not be the easiest approach.</p>

<p>Instead, we will represent the message as an array of integers, where each integer is a symbol in the message. All English letters will be represented by their place in the alphabet. For instance, ‚ÄúC‚Äù is the third letter in the alphabet, and so would be represented by a 2. Remember, computer science loves zero-indexing, so the first letter, ‚ÄúA‚Äù, would be 0. The word ‚ÄúCONSUL‚Äù would be represented as [ 2, 14, 13, 18, 20, 11 ].</p>

<hr />

<p>Recall that Java already encodes characters as integers using ASCII:</p>

<p><img src="hw03_base/ascii_table.png" alt="ascii_table" /></p>

<hr />

<p>There is no need to memorize the table above, since we can easily uncover the integer encoding via casting. For instance, take a look at this code snippet:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">char</span> <span class="n">letter</span> <span class="o">=</span> <span class="sc">'A'</span><span class="o">;</span>

<span class="c1">// cast letter to an integer as encoded by ASCII</span>
<span class="kt">int</span> <span class="n">asciiRepresentation</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">letter</span><span class="o">;</span>

<span class="c1">// will print out 65</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">asciiRepresentation</span><span class="o">);</span>
</code></pre></div></div>

<p>We could certainly use the innate ASCII values of characters to encode characters as integers in this program, but the math is a bit easier if we instead represent ‚ÄòA‚Äô as 0 instead of 65. We can perform one operation to convert from ASCII encoding to our method of symbol encoding in which ‚ÄòA‚Äô is represented as 0 instead of 65. We can simply subtract or add the character ‚ÄòA‚Äô:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">char</span> <span class="n">letter</span> <span class="o">=</span> <span class="sc">'C'</span><span class="o">;</span>

<span class="c1">// cast letter to an integer as encoded by our representation</span>
<span class="kt">int</span> <span class="n">ourSymbolRepresentation</span> <span class="o">=</span> <span class="o">(</span><span class="kt">int</span><span class="o">)</span> <span class="n">letter</span> <span class="o">-</span> <span class="sc">'A'</span><span class="o">;</span>

<span class="c1">// will print out 2</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ourSymbolRepresentation</span><span class="o">);</span>
</code></pre></div></div>

<p>We can easily recover the original character simply by adding ‚ÄòA‚Äô to it:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">ourSymbolRepresentation</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>

<span class="c1">// will become 'C'</span>
<span class="kt">char</span> <span class="n">letter</span> <span class="o">=</span> <span class="o">(</span><span class="kt">char</span><span class="o">)</span> <span class="o">(</span><span class="n">ourSymbolRepresentation</span> <span class="o">+</span> <span class="sc">'A'</span><span class="o">);</span>
</code></pre></div></div>

<p>Make sure you fully understand this operation and why we use it before moving on to the next section.</p>

<hr />

<h3 id="program-structure-outline">Program Structure Outline</h3>

<p>Recall that functions allow us to intelligently break up our program into a collection of logical units that we can develop and test independently. We can often identify these major units by considering the high level structure of our program and what we will need to do.</p>

<p>Recall that your Caesar program must take in command line arguments that will tell it whether to</p>

<ul>
  <li>Encrypt a message using a particular key</li>
  <li>Decrypt a message using a particular key, or</li>
  <li>Crack an encrypted message, giving us back the secret key</li>
</ul>

<p>The message will be stored in a text file, which will be read by the program.
Based solely on this description, we can see that we will need at least three functions:
<code class="language-plaintext highlighter-rouge">encrypt()</code>, <code class="language-plaintext highlighter-rouge">decrypt()</code>, and <code class="language-plaintext highlighter-rouge">crack()</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">main()</code> will then serve as the overall control for our program. (As always), the  <code class="language-plaintext highlighter-rouge">main()</code> will run before any other part of the program is executed.  <code class="language-plaintext highlighter-rouge">main()</code> is where we will handle reading command line arguments, reading in the text from the file, and calling the appropriate functions (to encrypt, decrypt, crack, etc) located elsewhere in the program.</p>

<p>We can also see that many of these functions will need to convert between text (characters) and the integer symbol encoding, and handle the shifting (see section 0.C to review what we mean by shifting). In fact, these procedures are likely to be so common that we should make helper functions, additional functions that complete a smaller task, which can be used by other functions.</p>

<p>For example, our basic encryption/decryption process will need to:</p>

<ul>
  <li>take in text as a String and convert each character in the string into our symbol encoding</li>
  <li>shift those encoded characters either right (to encrypt) or left (to decrypt)</li>
  <li>convert the encoded characters back into text for output (String)</li>
</ul>

<p>Our task will then be to write functions for each of these major tasks (which we can do and test independently), and then combine those functions together into a working program.</p>

<hr />

<h3 id="converting-to-and-from-symbol-arrays">Converting To and From Symbol Arrays</h3>

<p>We will first tackle the lowest-level functions to handle encoding/decoding of strings by writing two functions: one to convert from a <code class="language-plaintext highlighter-rouge">String</code> to our symbol representation (an array of integers), and one to convert from our symbol representation (an array of integers) back to a <code class="language-plaintext highlighter-rouge">String</code>:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
 * Description: converts a string to a symbol array,
 *              where each element of the array is an
 *              integer encoding of the corresponding
 *              element of the string.
 * Input:  the message text to be converted
 * Output: integer encoding of the message
 */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span><span class="o">[]</span> <span class="nf">stringToSymbolArray</span><span class="o">(</span><span class="nc">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>

<span class="cm">/*
 * Description: converts an array of symbols to a string,
 *              where each element of the array is an
 *              integer encoding of the corresponding
 *              element of the string.
 * Input:  integer encoding of the message
 * Output: the message text
 */</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">symbolArrayToString</span><span class="o">(</span><span class="kt">int</span><span class="o">[]</span> <span class="n">symbols</span><span class="o">)</span> <span class="o">{</span> <span class="o">...</span> <span class="o">}</span>
</code></pre></div></div>

<p>Note: you need to use <code class="language-plaintext highlighter-rouge">str.toUpperCase()</code> before converting to a symbol array. This will simply make all alphabet characters become uppercase. This returns a new <code class="language-plaintext highlighter-rouge">String</code>, so you must say <code class="language-plaintext highlighter-rouge">str = str.toUpperCase()</code>.</p>

<p><code class="language-plaintext highlighter-rouge">stringToSymbolArray()</code> should initialize an integer array of the correct length, iterate through each character in <code class="language-plaintext highlighter-rouge">str</code> to fill in the compartments of the array with the encoded integer value corresponding to each character in the string. Recall that you can use <code class="language-plaintext highlighter-rouge">str.charAt(i)</code> to find the <code class="language-plaintext highlighter-rouge">i</code>th character in <code class="language-plaintext highlighter-rouge">str</code> and your knowledge of ASCII to make the conversion from char to the corresponding encoded integer.</p>

<p>Test this first function by writing a bit of test code in your <code class="language-plaintext highlighter-rouge">main()</code> function to call <code class="language-plaintext highlighter-rouge">stringToSymbolArray("CONSUL")</code> and check that the function call returns the array <code class="language-plaintext highlighter-rouge">[2, 14, 13, 18, 20, 11]</code>. Try a few other test cases. Once you‚Äôre convinced the function is working, move on to write <code class="language-plaintext highlighter-rouge">symbolArrayToString()</code>.
<code class="language-plaintext highlighter-rouge">symbolArrayToString()</code> should take an <code class="language-plaintext highlighter-rouge">int[]</code> (integer array) where each element is the encoded integer value for the corresponding letter. The structure of this function is similar to <code class="language-plaintext highlighter-rouge">stringToSymbolArray()</code>, except it reverses the process.</p>

<p>Again, write code in <code class="language-plaintext highlighter-rouge">main()</code> to test <code class="language-plaintext highlighter-rouge">symbolArrayToString()</code>. Since you know that <code class="language-plaintext highlighter-rouge">stringToSymbolArray()</code> is working, your test code can use this function to encode a simple string, and then use <code class="language-plaintext highlighter-rouge">symbolArrayToString()</code> to decode it. If it works correctly, you should get back the same simple string you encoded. Test your code until you‚Äôre convinced both functions work.</p>

<hr />

<h4 id="shifting-symbols">Shifting Symbols</h4>

<p>The next step is to write a function to handle the shifting required to encrypt messages. This is the method in the base file with the method header of:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">shift</span><span class="o">(</span><span class="kt">int</span> <span class="n">symbol</span><span class="o">,</span> <span class="kt">int</span> <span class="n">offset</span><span class="o">)</span>
</code></pre></div></div>

<p>If symbol is an English letter (with an encoded integer value between 0 and 25), then it should be shifted down the alphabet by <code class="language-plaintext highlighter-rouge">offset</code> amount (an integer between 0 and 25). Remember to wrap symbols that go off the alphabet (‚ÄòW‚Äô shifted by ‚ÄòE‚Äô should return 0 representing ‚ÄòA‚Äô)! If you are confused and think it should return ‚ÄòB‚Äô, keep in mind that we zero-index our offsets. ‚ÄòA‚Äô is a shift of 0, so ‚ÄòE‚Äô is a shift of 4.</p>

<p>If <code class="language-plaintext highlighter-rouge">symbol</code> is not between 0 and 25, meaning it is some sort of whitespace or punctuation, then it should just be returned as is. (In our implementation, punctuation is not encoded and does not change during the encryption/decryption process.) We do this so all whitespace and punctuation is simply ignored in our encryption and decryption process. <em>Hint: Modulo (%) will be helpful here!</em></p>

<p>Remember to write an appropriate header comment for your <code class="language-plaintext highlighter-rouge">shift()</code> function (as well as your other functions going forward).</p>

<hr />

<h4 id="unshifting-symbols">Unshifting Symbols</h4>

<p>We also must handle the unshifting (i.e., left shifting) of characters when we need to decrypt an already encrypted message. This function has the following method header in your <code class="language-plaintext highlighter-rouge">Caesar.java</code> file:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">unshift</span><span class="o">(</span><span class="kt">int</span> <span class="n">symbol</span><span class="o">,</span> <span class="kt">int</span> <span class="n">offset</span><span class="o">)</span>
</code></pre></div></div>

<p>This should simply undo the shifts done by <code class="language-plaintext highlighter-rouge">shift()</code>. Try thinking about how you will do this and do some examples before writing any code! Also, try to think how you can very easily do this by building on code you‚Äôve already written.</p>

<p>You should now take some time to test <code class="language-plaintext highlighter-rouge">shift()</code> and <code class="language-plaintext highlighter-rouge">unshift()</code>.
A great way to do so is to run the output of <code class="language-plaintext highlighter-rouge">shift()</code> as input to <code class="language-plaintext highlighter-rouge">unshift()</code> - for example, <code class="language-plaintext highlighter-rouge">unshift(shift(3, 5), 5)</code> should be 3.</p>

<hr />

<h3 id="high-level-functions">High-Level Functions</h3>

<p>Now that we‚Äôve created functions to handle the encoding/decoding and shifting/unshifting of our messages, we can focus on the three high-level functions in our program outline:
<code class="language-plaintext highlighter-rouge">encrypt()</code>, <code class="language-plaintext highlighter-rouge">decrypt()</code>, and <code class="language-plaintext highlighter-rouge">crack()</code>.</p>

<p>Once we write these functions, the <code class="language-plaintext highlighter-rouge">main()</code> will then serve as the overall control for our program, calling one of the three functions above as indicated by the given command-line argument.</p>

<p>We will start by defining encrypt()‚Ä¶</p>

<hr />

<h4 id="encrypt">Encrypt</h4>

<p>Using the functions you have already written, you should implement the function with the method header in your code of</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">encrypt</span><span class="o">(</span><span class="nc">String</span> <span class="n">message</span><span class="o">,</span> <span class="kt">int</span> <span class="n">key</span><span class="o">)</span>
</code></pre></div></div>

<p>The basic operations carried out in the function should be:</p>

<ul>
  <li>Convert the message to an array of encoded symbols (which we represent as ints)</li>
  <li>For each symbol in the array, shift it by the given offset</li>
  <li>Return a String version of the encrypted symbol array</li>
</ul>

<p><strong>Note: It is VERY important that your program take in the numerical representation of the key, and NOT a character. If you do not do this, you will fail most of the tests we provide.</strong></p>

<p>From the above description, we can see that a message is considered ‚Äúencrypted‚Äù once it has been encoded into integer symbols, shifted, and converted back to a String representation. Once this is done, you should be able to test <code class="language-plaintext highlighter-rouge">encrypt()</code> in <code class="language-plaintext highlighter-rouge">main()</code> and be able to encrypt the string, ‚ÄúET TU, BRUTE?‚Äù using 6 (letter G) as the offset to get ‚ÄúKZ ZA, HXAZK?‚Äù. Be sure to write comprehensive header comments for the function, and test it thoroughly (try encrypting other strings with various offsets and analyze the output) before proceeding to the next part.</p>

<hr />

<h4 id="decrypt">Decrypt</h4>

<p>Now that you can encrypt your message, you need to be sure you can decrypt it. Write the decrypt function, which has this method header in your file:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="nc">String</span> <span class="nf">decrypt</span><span class="o">(</span><span class="nc">String</span> <span class="n">cipher</span><span class="o">,</span> <span class="kt">int</span> <span class="n">key</span><span class="o">)</span>
</code></pre></div></div>

<p>The structure of this function is very similar to <code class="language-plaintext highlighter-rouge">encrypt()</code>, but instead of using <code class="language-plaintext highlighter-rouge">shift()</code>, you should be using <code class="language-plaintext highlighter-rouge">unshift()</code> and then you must decode the unshifted symbols before converting back to a string.</p>

<p>Once this is done, you should be able to use <code class="language-plaintext highlighter-rouge">decrypt()</code> in <code class="language-plaintext highlighter-rouge">main()</code> with ‚ÄúKZ ZA, HXAZK?‚Äù and 6 (letter G) as the key to obtain ‚ÄúET TU, BRUTE?‚Äù</p>

<p>You should add some code in <code class="language-plaintext highlighter-rouge">main()</code> to test it. At this point, if you run a String through <code class="language-plaintext highlighter-rouge">encrypt()</code> and then <code class="language-plaintext highlighter-rouge">decrypt()</code>, the output should be the same as the input String.</p>

<p>Here is a sample test that you can use for reference. Please write your own test.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">String</span> <span class="n">message</span> <span class="o">=</span> <span class="s">"I AM CONSTANT AS THE NORTHERN STAR"</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">cipher</span> <span class="o">=</span> <span class="n">encrypt</span><span class="o">(</span><span class="n">message</span><span class="o">,</span> <span class="mi">6</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">decrypted</span> <span class="o">=</span> <span class="n">decrypt</span><span class="o">(</span><span class="n">cipher</span><span class="o">,</span> <span class="mi">6</span><span class="o">);</span>
<span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">decrypted</span><span class="o">);</span> <span class="c1">// should be the original message (in upper case)</span>
</code></pre></div></div>

<hr />

<h4 id="reading-from-a-file">Reading From a File</h4>

<p>Once you are confident that <code class="language-plaintext highlighter-rouge">encrypt()</code> and <code class="language-plaintext highlighter-rouge">decrypt()</code> are working, you should comment out anything you‚Äôve written in your <code class="language-plaintext highlighter-rouge">main()</code>. In order to obtain the message you will be encrypting you will need to read in data (the message) from a file.</p>

<p>Look back at your <code class="language-plaintext highlighter-rouge">NBody.java</code> from last week and make use of <code class="language-plaintext highlighter-rouge">In inStream</code> to do this.</p>

<ul>
  <li>HINT: The function that will be most helpful is <code class="language-plaintext highlighter-rouge">inStream.readAll()</code> which returns the entire text of the file as a String.</li>
</ul>

<p>Write code in <code class="language-plaintext highlighter-rouge">main()</code> to:</p>

<ul>
  <li>Handle the command line arguments</li>
  <li>Load the specified text file</li>
  <li>Call the appropriate function to encrypt/decrypt/crack the message</li>
  <li>Print out the result</li>
</ul>

<p>Before you move on to the next part, you should be able to run the following operations. For this testing, you will need to create a text file with a message of your choice. Once you encrypt the message, add the encrypted output to the same text file or another. Call decrypt (see command line example below) with the text file containing the message you encrypted and see if you get the original message you created.</p>

<p>To encrypt a message in <code class="language-plaintext highlighter-rouge">filename.txt</code> using the symbol value of 6 (character G):</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java</span> <span class="nc">Caesar</span> <span class="n">encrypt</span> <span class="n">filename</span><span class="o">.</span><span class="na">txt</span> <span class="no">G</span> <span class="c1">// (filename.txt is not a file we provide)</span>
</code></pre></div></div>

<p>To decrypt the message in another file <code class="language-plaintext highlighter-rouge">filename_two.txt</code> using the symbol value of 6 (character G):</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java</span> <span class="nc">Caesar</span> <span class="n">decrypt</span> <span class="n">filename_two</span><span class="o">.</span><span class="na">txt</span> <span class="no">G</span> <span class="c1">// (filename_two.txt is not a file we provide)</span>
</code></pre></div></div>

<p>If you‚Äôd like a refresher on command-line arguments or reading from a file, you can look back to the <a href="nbody.html#2-command-line-arguments">NBody writeup</a>. You should test your functions before moving forward. You can test by creating a test file called <code class="language-plaintext highlighter-rouge">message.txt</code> and put some English sentences in it. Run <code class="language-plaintext highlighter-rouge">encrypt()</code> on this file through the command line, saving the output to a new file called <code class="language-plaintext highlighter-rouge">test_encryption.txt</code>, and then run <code class="language-plaintext highlighter-rouge">decrypt()</code> on that through the command line. If you get back the same original message, then you‚Äôre probably in a good place to keep moving forward.</p>

<hr />

<h3 id="cracking-the-cipher">Cracking the Cipher</h3>

<h4 id="understanding-the-process">Understanding the Process</h4>

<p>The first recorded instance of a systematic breaking of the Caesar cipher came from Al-Kindi in Mesopotamia in the 9th Century: almost 1000 years after Caesar‚Äôs death!</p>

<p>Now that you have worked out encoding, decoding, encrypting, and decrypting messages, we will add one more step to reach the final goal of cracking the Caesar cipher. This final step involves letter frequency analysis. This simply means you will be taking a text or String and counting how often each letter in the alphabet appears throughout the text. English text will have lots of ‚ÄúE‚Äùs and ‚ÄúA‚Äùs, while an encrypted cipher may have an unusually high number of ‚ÄúX‚Äùs or ‚ÄúB‚Äùs.</p>

<hr />

<h4 id="letter-frequency-analysis">Letter Frequency Analysis</h4>

<p>Before you can analyze the Caesar cipher text to crack it, you will need the frequency with which the 26 letters in the alphabet appear in the English language. We have given these frequencies for each letter in <code class="language-plaintext highlighter-rouge">english.txt</code>. The first line will have the frequency of the letter ‚ÄòA‚Äô, the second ‚ÄòB‚Äô, and so on. You should take a look at the file, and note that it has <strong>26</strong> lines.</p>

<p>Implement the function <code class="language-plaintext highlighter-rouge">getDictionaryFrequencies()</code> that takes as input the name of the file containing frequencies to be read and returns a double array with the frequencies contained in that text file. The 0th element in the array should be the frequency of ‚ÄòA‚Äô, the 1st should be the frequency of ‚ÄòB‚Äô, and so on.</p>

<p>Once you have the frequencies of characters in English it is time to obtain the frequencies in the cipher text file. In order to do this, implement the function <code class="language-plaintext highlighter-rouge">findFrequencies()</code>. The input will be the int array representation of the cipher text and it should return a double array where the 0th element in the array is the frequency of ‚ÄòA‚Äô in the ciphertext, and so on.</p>

<p>To find the frequency of each letter, first find the number of times each letter appears in the ciphertext. Then, divide all of these numbers by the total number of letters in the ciphertext. <strong>Ignore any non-letter symbols.</strong></p>

<p>Write code in <code class="language-plaintext highlighter-rouge">main()</code> to test your functions. (Hint: Make a simple string with a known letter frequency, encode it, and make sure your <code class="language-plaintext highlighter-rouge">findFrequencies()</code> gives you back the appropriate frequency counts.)</p>

<hr />

<h4 id="scoring-the-frequency">Scoring the Frequency</h4>

<p>The next step in cracking the cipher will be scoring the frequencies you found in the last step. This is done by finding the absolute value of the difference between each letter in the ciphertext frequencies and its corresponding letter in the English frequencies. To do this, find the absolute value of the difference between the frequency for each letter in the cipher text and for the corresponding English frequency for that letter.</p>

<p>For example, given an array for frequencies of A, B, and C in a message as [ 0.2, 0.1, 0.0 ] and the English language frequencies are [ 0.1, 0.1, 0.05 ]. The total score of the messsage‚Äôs frequencies would be:</p>

<p>$Math.abs(0.2 - 0.1) + Math.abs(0.1 - 0.1) + Math.abs(0.0 - 0.05) = 0.15$</p>

<p>This score essentially tells us how well the letter frequency in the message matches what we would expect if the message were in English, rather than encrypted. The lower the score, the closer the message is to decrypted English. We can use this later to crack the Caesar cipher by trying different keys and picking the one that gives us the lowest score!
Implement the function <code class="language-plaintext highlighter-rouge">scoreFrequencies()</code> that takes in two frequencies arrays, <code class="language-plaintext highlighter-rouge">english</code> and <code class="language-plaintext highlighter-rouge">currentFreqs</code>, and returns the difference between each value pair in the arrays, as described above.</p>

<hr />

<h3 id="crack">Crack</h3>

<p>Now for the fun part! You should be writing a function called <code class="language-plaintext highlighter-rouge">crack()</code> to perform these steps outlined below. <strong>Note that this function header has not been provided for you in <code class="language-plaintext highlighter-rouge">Caesar.java</code> and is something you must write yourself</strong>. We‚Äôd like you to think about what the inputs to this function should be, what it should return, and whether you‚Äôd like any other functions to help you out. There are several correct ways to do this, so really think about the benefits and drawbacks to your design!</p>

<p>The written decryption and encryption code allows us to be able to hide and decipher cool messages but what if we don‚Äôt know the key? In order to crack a cipher with an unknown key we can guess the key via brute force until we find the correct one. We will implement this in <code class="language-plaintext highlighter-rouge">crack()</code>.</p>

<p>One method to do this is to try to decrypt the cipher message with all possible keys (‚ÄòA‚Äô through ‚ÄòZ‚Äô). At each decryption find the frequencies of the letters in our newly decrypted message and use this to determine the frequency score (using <code class="language-plaintext highlighter-rouge">scoreFrequencies()</code>). You want to find which key will give us a message that looks most similar to English, so its frequency score should be the lowest among all keys.</p>

<p><em>Finding the minimum score key will be a similar process as finding the minimum value in an array, so looking back at that example from lecture and recitation may be helpful.</em></p>

<p>Once you‚Äôve tried decrypting with all possible keys, return the message found using the key with the lowest score. This should be the original message!</p>

<hr />

<h3 id="final-touches">Final Touches</h3>

<p>Once you have written <code class="language-plaintext highlighter-rouge">crack()</code>, you should add code to your main so that you can run <code class="language-plaintext highlighter-rouge">Caesar.java</code> using:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java</span> <span class="nc">Caesar</span> <span class="n">crack</span> <span class="n">cipher</span><span class="o">.</span><span class="na">txt</span> <span class="n">english</span><span class="o">.</span><span class="na">txt</span>
</code></pre></div></div>

<p>Note <code class="language-plaintext highlighter-rouge">cipher.txt</code> is not a file that we provide. It is an example of a generic cipher. See <code class="language-plaintext highlighter-rouge">encrypted_message.txt</code> below for a test case</p>

<p>This command will crack the cipher in <code class="language-plaintext highlighter-rouge">cipher.txt</code>, using the letter frequencies stored in <code class="language-plaintext highlighter-rouge">english.txt</code>, which your program must also load. <strong>It should print out the cracked message.</strong></p>

<p>Once you have this working, and tested <code class="language-plaintext highlighter-rouge">crack()</code>, you have a program that can encrypt a message, decrypt it with the key, and break encryption. You‚Äôve just cracked Caesar!</p>

<p>Try out your program by cracking the provided file, <code class="language-plaintext highlighter-rouge">encrypted_message.txt</code>. Put the answer to this in your <code class="language-plaintext highlighter-rouge">readme_caesar.txt</code>.</p>

<hr />

<h3 id="extra-credit">Extra Credit</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>RSA XLEX CSY LEZI GSQTPIXIH XLI GEIWEV GMTLIV (ERH GER VIEH XLMW IBXVE GVIHMX HIWGVMTXMSR!), XVC E FMKKIV GLEPPIRKI!

EW IBXVE GVIHMX, MQTPIQIRX E TVSKVEQ XS IRGVCTX ERH HIGVCTX QIWWEKIW YWMRK XLI ZMKIRIVI GMTLIV.  XLI ZMKIRIVI GMTLIV YWIW E WIVMIW SJ HMJJIVIRX GEIWEV GMTLIVW XS IRGVCTX XIBX, FEWIH SR XLI PIXXIVW SJ E OICASVH.  PSSO MX YT SR AMOMTIHME JSV HIXEMPW EW XS LSA XLI ZMKIRIVI GMTLIV ASVOW. (WSVVC, FYX AI GSYPHR'X HMVIGXPC MRGPYHI XLI PMRO, WMRGI XLMW IBXVE GVIHMX XIBX MW IRGVCTXIH!)

AVMXI E TVSKVEQ XS IRGVCTX ERH HIGVCTX QIWWEKIW YWMRK XLI ZMKIRIVI GMTLIV.  CSYV TVSKVEQ WLSYPH FI REQIH "ZMKIRIVI" (FYX MR GEQIP GEWI, RSX EPP YTTIVGEWI) ERH MX WLSYPH JSPPSA E GSQQERH PMRI MRXIVJEGI WMQMPEV XS XLI GEIWEV TVSKVEQ.  XLI SRI HMJJIVIRGI MW XLEX MRWXIEH SJ XEOMRK MR E PIXXIV EW XLI OIC, MX AMPP EGGITX ER IRXMVI ASVH.  JSV ER IBXVE GLEPPIRKI, XVC GVEGOMRK XLI ZMKIRIVI GMTLIV.

KSSH PYGO!
</code></pre></div></div>

<hr />

<h3 id="submission">Submission</h3>

<p>Submit <code class="language-plaintext highlighter-rouge">Caesar.java</code> and <code class="language-plaintext highlighter-rouge">readme_caesar.txt</code> on Gradescope.</p>

<p>Important: Your code will automatically be tested for correctness when you submit and display a score out of 35 points. This will account for 60% of your grade for the assignment. We don‚Äôt display details on failing tests, but please use the title of the tests as a hint for how to correct your code. If you encounter any autograder-related issues, please make a private post on Piazza.</p>
:ET