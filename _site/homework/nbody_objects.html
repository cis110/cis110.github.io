<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-140907291-3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-140907291-3');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CIS 110 Fall 2020 — Introduction to Computer Programming</title>

  <!-- Mathjax -->
  <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"] ],
          processEscapes: true
        }
      });
    </script>
  <script type="text/javascript" charset="utf-8"
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
    </script>
  <script type="text/javascript" charset="utf-8" src="https://vincenttam.github.io/javascripts/MathJaxLocal.js">
  </script>

  <link rel="apple-touch-icon" sizes="180x180" href="/~cis110/current/assets/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/~cis110/current/assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/~cis110/current/assets/favicon/favicon-16x16.png">
  <link rel="manifest" href="/~cis110/current/assets/favicon/site.webmanifest">
  <link rel="mask-icon" href="/~cis110/current/assets/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/~cis110/current/assets/favicon/favicon.ico">
  <meta name="apple-mobile-web-app-title" content="CIS 110">
  <meta name="application-name" content="CIS 110">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-config" content="/~cis110/current/assets/favicon/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <!-- CSS -->
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">

  <link href="/~cis110/current/assets/css/style.css" rel="stylesheet">
  <link href="/~cis110/current/assets/css/syntax.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
</head>

<body>
  <a class="sr-only" href="#content">Skip to main content</a>

  <!-- Docs master nav -->
  <header class="navbar navbar-static-top navbar-default" role="banner">
    <div class="container">
      <div class="row">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <ul class="nav navbar-nav">
            <div class="hidden-sm hidden-xs">
              <li id="main-page"><a href="/~cis110/current/index.html" class="navbar-brand">CIS 110 - Introduction to
                  Computer Programming</a></li>
            </div>
            <div class="visible-sm visible-xs">
              <li id="main-page"><a href="/~cis110/current/index.html" class="navbar-brand">CIS 110</a></li>
            </div>
          </ul>
        </div>
        <!-- DO NOT edit this file directly. If you are editing the header, edit navigation.yaml or homework.yaml. -->
<nav class="collapse navbar-collapse" role="navigation">
    <ul class="nav navbar-nav">
        <li id="Homework">
    <a class="dropdown-toggle" data-toggle="dropdown" href="/~cis110/current/homework.html">Homework
    <span class="caret"></span></a>
    <ol class="dropdown-menu">
        <li>
            <a href="/~cis110/current/homework/homework.html">Homework Table</a>
        </li>
        
        
            <li><a href="/~cis110/current/homework/hello_world.html">HW0: Hello, World!</a></li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    </ol>
</li>
        
        
        
        <li id="Syllabus"><a href="/~cis110/current/syllabus.html">Syllabus</a></li>
        
        
        
        <li id="Staff"><a href="/~cis110/current/staff.html">Staff</a></li>
        
        
        
        <li id="Office Hours"><a href="/~cis110/current/schedule.html">Office Hours</a></li>
        
        
        
        <li id="Grade Calculator"><a href="/~cis110/current/grade_calc.html">Grade Calculator</a></li>
        
        
        
        <li id="SRS"><a href="/~cis110/current/sunday_review_sessions.html">SRS</a></li>
        
        
        
        <li id="Policies">
            <a class="dropdown-toggle" data-toggle="dropdown" href="/~cis110/current/">Policies
                <span class="caret"></span></a>
            <ol class="dropdown-menu">
                
                <li><a href="/~cis110/current/policies/grading_policies.html">Grading</a></li>
                
                <li><a href="/~cis110/current/policies/attendance_sp21.html">Attendance</a></li>
                
                <li><a href="/~cis110/current/policies/homework_policies.html">Homework</a></li>
                
                <li><a href="/~cis110/current/policies/collaboration_policies.html">Collaboration</a></li>
                
            </ol>
        </li>
        
        
        
        <li id="Exams">
            <a class="dropdown-toggle" data-toggle="dropdown" href="/~cis110/current/">Exams
                <span class="caret"></span></a>
            <ol class="dropdown-menu">
                
                <li><a href="/~cis110/current/exams/exam_procedures.html">Exam Procedures</a></li>
                
                <li><a href="/~cis110/current/exams/exam1.html">Exam 1</a></li>
                
                <li><a href="/~cis110/current/exams/exam2.html">Exam 2</a></li>
                
            </ol>
        </li>
        
        
        
        <li id="Resources">
            <a class="dropdown-toggle" data-toggle="dropdown" href="/~cis110/current/">Resources
                <span class="caret"></span></a>
            <ol class="dropdown-menu">
                
                <li><a href="/~cis110/current/resources/getting_help.html">Getting Help</a></li>
                
                <li><a href="/~cis110/current/resources/javadocs.html">CIS 110 Javadocs</a></li>
                
                <li><a href="/~cis110/current/resources/topics_guide.html">Topic Glossary</a></li>
                
                <li><a href="/~cis110/current/resources/runtime_errors.html">Runtime Errors Walkthrough</a></li>
                
                <li><a href="/~cis110/current/resources/compiler_errors.html">Compilation Errors Walkthrough</a></li>
                
                <li><a href="/~cis110/current/resources/style.html">Style Guide</a></li>
                
                <li><a href="/~cis110/current/resources/penndraw.html">PennDraw.java</a></li>
                
                <li><a href="/~cis110/current/resources/in.html">In.java</a></li>
                
                <li><a href="/~cis110/current/resources/accommodations.html">Accommodations</a></li>
                
            </ol>
        </li>
        
        
        
        <li id="Wellness"><a href="/~cis110/current/wellness.html">Wellness</a></li>
        
        
    </ul>
</nav>
      </div>
    </div>
  </header>

  <div class="container">
    
    <h2 id="nbody-with-objects">NBody with Objects</h2>

<hr />

<h3 id="getting-started">Getting Started</h3>

<hr />

<h4 id="a-goals">A. Goals</h4>

<p>The purpose of this homework is to get an introduction to objects and object-oriented programming by reworking NBody from HW2. The specific goals are to:</p>

<ul>
  <li>Learn how to create user-defined data types (classes) in Java.</li>
  <li>Learn to build an object-oriented program incrementally.</li>
  <li>Learn to create and manipulate instances of objects.</li>
</ul>

<p>This assignment will have the same end goal as HW2. You will implement a program that simulates the motion of the planets. Only now, you’ll do it using object oriented design. At the end of this assignment, you will have produced a visual simulation of the gravitational interactions among bodies in two dimensions.</p>

<hr />

<h4 id="b-background">B. Background</h4>

<p>A long time ago in an extraterrestrial body far, far away, you wrote a simulator for celestial physics (i.e. NBody for HW02). You were but a young Padawan, and wrote this with no methods and the entire thing in a single main function. Now, however, you have learned the ways of object-oriented programming and have picked up some sick skills. Skills such as the ability to write functions and now create objects! We will put these skills to use by revisiting our old friend NBody, and giving it an upgrade. We will also witness the benefits of having a modularized program, and how we can use this to easily test our program.</p>

<hr />

<h4 id="c-getting-started">C. Getting started</h4>

<p>Here is a <a href="https://drive.google.com/file/d/1k7Xrq2HEg4T86Fa8-GI3gftMWLt4wx7J/view">video</a> explaining the Physics background for this assignment. This is the same video as in HW2, so if you need a refresher you can find it here.</p>

<p>You will be provided with two starting skeleton files, <code class="language-plaintext highlighter-rouge">Body.java</code> and <code class="language-plaintext highlighter-rouge">Space.java</code>. Add class header comments to each file. These are your starting files for the first two parts of the assignment. You can download the starter files <a href="hw05_base/nbody_objects.zip">here</a></p>

<p>Create a Java class called <code class="language-plaintext highlighter-rouge">NBodyObj.java</code> with an empty <code class="language-plaintext highlighter-rouge">main()</code> function. Give your file a class header comment.</p>

<hr />

<h4 id="d-advice">D. Advice</h4>

<p>Work on the program in the order of the directions. Do not try to do things out of order, as that will likely add to any issues you encounter in the assignment. Much of this assignment is done in “reverse” order of HW2. You will start with physics and work backwards to the drawing and the loop in HW2.</p>

<p>Compile, run, and debug frequently; make one small change at a time, ensuring that your program works as you expect it to after each small change.</p>

<p>Test early and often in main methods. To ensure your code is properly written, you will want (and in fact need) to write your own tests.</p>

<p>Comment frequently and use good variable names as always.</p>

<hr />

<h3 id="1-bodyjava">1. Body.java</h3>

<hr />

<h4 id="a-purpose">A. Purpose</h4>

<p>In this section, you will fill the <code class="language-plaintext highlighter-rouge">Body.java</code> skeleton file with meaningful code. Note that the words body and planet will be used interchangeably throughout these instructions.</p>

<p>A body can represent a planet, star, or any other celestial body. Each body maintains its own mass (<code class="language-plaintext highlighter-rouge">m</code>), position (<code class="language-plaintext highlighter-rouge">px</code>, <code class="language-plaintext highlighter-rouge">py</code>) and velocity (<code class="language-plaintext highlighter-rouge">vx</code>, <code class="language-plaintext highlighter-rouge">vy</code>). Each body also stores its own image file (<code class="language-plaintext highlighter-rouge">img</code>). Use this information to figure out how to create the constructor.</p>

<p>In addition, a body has methods that can be called to perform various tasks, such as (calculating distance to another object, drawing the body on the canvas, etc.) By implementing these methods, you can recreate the behavior of your celestial bodies in <code class="language-plaintext highlighter-rouge">NBody.java</code> using object-oriented design.</p>

<p>The skeleton file contains an incomplete stub for every method, with the exception of <code class="language-plaintext highlighter-rouge">toString()</code>, which is entirely completed for you.</p>

<p>Some notes on the skeleton file:</p>

<ul>
  <li>Do not remove, rename or change any of the fields (<code class="language-plaintext highlighter-rouge">m, px, py, vx, vy, img</code>, or <code class="language-plaintext highlighter-rouge">G</code>)</li>
  <li>As you work, remember to add your own comments and remove the <code class="language-plaintext highlighter-rouge">TODO</code> tags.</li>
  <li>Try to work on each step in the order presented below.</li>
  <li>Do <strong>not</strong> modify the <code class="language-plaintext highlighter-rouge">toString()</code> function at all.</li>
</ul>

<hr />

<h4 id="b-fields">B. Fields</h4>

<p>The fields, or attributes, of each body object are provided for you in the skeleton. They are:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">double</span> <span class="n">m</span> <span class="o">-</span> <span class="n">mass</span> <span class="n">of</span> <span class="n">the</span> <span class="n">body</span>
<span class="kt">double</span> <span class="n">px</span> <span class="o">-</span> <span class="n">the</span> <span class="n">x</span> <span class="n">position</span> <span class="n">of</span> <span class="n">the</span> <span class="n">body</span>
<span class="kt">double</span> <span class="n">py</span> <span class="o">-</span> <span class="n">the</span> <span class="n">y</span> <span class="n">position</span> <span class="n">of</span> <span class="n">the</span> <span class="n">body</span>
<span class="kt">double</span> <span class="n">vx</span> <span class="o">-</span> <span class="n">the</span> <span class="n">vx</span> <span class="n">position</span> <span class="n">of</span> <span class="n">the</span> <span class="n">body</span>
<span class="kt">double</span> <span class="n">vy</span> <span class="o">-</span> <span class="n">the</span> <span class="n">vy</span> <span class="n">position</span> <span class="n">of</span> <span class="n">the</span> <span class="n">body</span>
<span class="nc">String</span> <span class="n">img</span> <span class="o">-</span> <span class="n">the</span> <span class="n">filename</span> <span class="n">of</span> <span class="n">the</span> <span class="n">image</span> <span class="n">representing</span> <span class="n">the</span> <span class="n">body</span>
</code></pre></div></div>

<p>These attributes maintain the “state” of the body. Later on in our program, we’ll talk about when we manipulate these attributes to simulate motion and gravity. However, for now, just view them as field variables similarly to field variables of other object examples we have covered in class.</p>

<p><em>Again, it’s important you don’t modify these variables.</em> You will get a style warning (upon submission) saying to make these variables private. Leave these variables public, however, and ignore those style warnings. You will not lose points for these style warnings, but you will lose points if you make these variables private.</p>

<hr />

<h4 id="c-constructor">C. Constructor</h4>

<p>The Constructor is the method that starts with:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="nf">Body</span><span class="o">(</span><span class="kt">double</span> <span class="n">mass</span><span class="o">,</span> <span class="kt">double</span> <span class="n">posX</span><span class="o">,</span> <span class="kt">double</span> <span class="n">posY</span><span class="o">,</span> <span class="kt">double</span> <span class="n">velX</span><span class="o">,</span> <span class="kt">double</span> <span class="n">velY</span><span class="o">,</span> <span class="nc">String</span> <span class="n">imageFile</span><span class="o">);</span>
</code></pre></div></div>

<p>The constructor takes in (via the arguments above) the <code class="language-plaintext highlighter-rouge">mass</code>, starting position (<code class="language-plaintext highlighter-rouge">posX</code> and <code class="language-plaintext highlighter-rouge">posY</code>), starting velocity (<code class="language-plaintext highlighter-rouge">velX</code> and <code class="language-plaintext highlighter-rouge">velY</code>), and image filename of the body/planet. Within this constructor, you simply need to assign the arguments to the correct global variables/fields/attributes.</p>

<p>You must complete the constructor before moving on to any other methods. Look at the constructor examples from the first day we covered objects. This will be very helpful to you here.</p>

<hr />

<h4 id="d-methods">D. Methods</h4>

<h5 id="tostring">toString</h5>

<p><code class="language-plaintext highlighter-rouge">String toString();</code></p>

<p>This method has been completed for you. Do not change anything. This will be useful later for printing out the state of your bodies for the sake of testing in main and debugging.</p>

<h5 id="distancetox">distanceToX</h5>

<p><code class="language-plaintext highlighter-rouge">double distanceToX(Body other);</code></p>

<p>This method gets the distance between the body on which the method is called and the Body passed in as an argument (other) along the X-Axis, or $\Delta x$. Note – as in HW2 you should not be returning the absolute value of the distance. The distance could be negative. The distance should be the location of the other body - the location of the current body.
For example, if we had two body variables, earth and sun, we could get the $\Delta x$ from the earth to the sun relative to $x$ by calling:</p>

<p><code class="language-plaintext highlighter-rouge">earth.distanceToX(sun);</code></p>

<p>See the diagram below for how to calculate this. Note that in the diagram below, the distance from the earth to the sun is positive (going to the right) and the distance from the sun to the earth is negative (going to the left).</p>

<h5 id="distancetoy">distanceToY</h5>

<p><code class="language-plaintext highlighter-rouge">double distanceToY(Body other);</code></p>

<p>Similarly to the previous method, this method gets the distance between the calling body and the Body passed in as an argument (other) along the Y-Axis, or $\Delta y$. See the diagram above. Again, this result can be negative. For example, the $\Delta y$ from the sun to the earth is negative, since it is downwards.</p>

<h5 id="distanceto">distanceTo</h5>

<p><code class="language-plaintext highlighter-rouge">double distanceTo(Body other);</code></p>

<p>This gets the true distance ($d$ in the diagram above), between the bodies via a straight line. See the diagram above for how to calculate this. Remember, when squaring numbers, do not use <code class="language-plaintext highlighter-rouge">Math.pow()</code>, use simple multiplication. It is much faster.</p>

<h5 id="force">Force</h5>

<p><code class="language-plaintext highlighter-rouge">double force(Body other);</code></p>

<p>This function gets the gravitational force between the calling body and the argument body. The overall force is calculated by:</p>

<p><code class="language-plaintext highlighter-rouge">G * m1 * m2 / (d * d)</code></p>

<p>Where:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">G</code> is the gravitational constant 6.67e-11 (already declared in the skeleton file)</li>
  <li><code class="language-plaintext highlighter-rouge">m1</code> is the mass of the calling planet</li>
  <li><code class="language-plaintext highlighter-rouge">m2</code> is the mass of the argument planet</li>
  <li><code class="language-plaintext highlighter-rouge">d</code> is the distance between the planets</li>
</ul>

<h5 id="forcex">forceX</h5>

<p><code class="language-plaintext highlighter-rouge">double forceX(Body other);</code></p>

<p>This function returns the x component of the force (F) between the calling planet and the called planet. This is calculated by:
<code class="language-plaintext highlighter-rouge">Fx = F * dx / d</code></p>

<p>Where:</p>

<ul>
  <li>$F$ is the net gravitational force between the planets</li>
  <li><code class="language-plaintext highlighter-rouge">dx</code> is the distance between the planets relative only to the $x$ axis</li>
  <li><code class="language-plaintext highlighter-rouge">d</code> is the diagonal distance between the planets</li>
</ul>

<h5 id="forcey">forceY</h5>

<p><code class="language-plaintext highlighter-rouge">double forceY(Body other);</code></p>

<p>This function returns the y component of the force (F) between the calling planet and the called planet. This is calculated by:</p>

<p><code class="language-plaintext highlighter-rouge">Fy = F * dy / d</code></p>

<p>Where:</p>

<ul>
  <li>Force is the net gravitational force between the planets</li>
  <li><code class="language-plaintext highlighter-rouge">dy</code> is the distance between the planets relative only to the y axis</li>
  <li><code class="language-plaintext highlighter-rouge">d</code> is the diagonal distance between the planets</li>
</ul>

<p><img src="images/updating_velocities.png" alt="" /></p>

<h5 id="draw">Draw</h5>

<p><code class="language-plaintext highlighter-rouge">void draw()</code></p>

<p>This function draws the calling body by calling the appropriate PennDraw function with the necessary attributes of the body. This method should contain a single line of code.</p>

<h5 id="move">Move</h5>

<p><code class="language-plaintext highlighter-rouge">void move(double timeStep)</code></p>

<p>Update the position of the calling body. For the original values of position: (px, py) the resultant values should be (px + Δt vx, py + Δt vy). Δt, in this formula, represents timeStep. There should be NO LOOP inside this function.</p>

<h5 id="getaffectedby">getAffectedBy</h5>

<p><code class="language-plaintext highlighter-rouge">void getAffectedBy(Body other, double timeStep)</code></p>

<p>This function updates the velocity of the calling body due to the gravitational pull of the argument, other (another body). This function should not alter the velocity of the other body. For the original values of velocity: (vx, vy) you will update the velocities to (vx + Δt ax, vy + Δt ay) for the body which is being affected.</p>

<p>The acceleration is calculated by the force of gravity between the planets. Look back to HW2 to recall the steps required (and order) to update acceleration, and velocity.</p>

<p><strong>Updating accelerations:</strong> ax can be calculated by fx / m where fx is the x component of the force between the two planets. m is the mass of the calling body. You can calculate ay in a similar way. There should be NO LOOP inside this function.</p>

<p>Note that any updates made here ONLY concern two bodies, the calling body and the body passed in as an argument. There should be no loop in the function. This is different than in HW2. In HW2, you calculated the change in velocity on one planet caused by every other planet at the same time. Here, you will use this function repeatedly to calculate the change in velocity due to every other body one at a time. It may seem strange that we are only calculating the force between two bodies, not one body to every other body. However, ensuring all the bodies interact correctly will be handled in <code class="language-plaintext highlighter-rouge">Space.java</code>.</p>

<hr />

<h4 id="e-checkpoint">E. Checkpoint</h4>

<p>Compile <code class="language-plaintext highlighter-rouge">Body.java</code> to ensure it compiles with no syntax errors.</p>

<hr />

<h4 id="f-checkpoint">F. Checkpoint</h4>

<p>Submit your <code class="language-plaintext highlighter-rouge">Body.java</code> on Gradescope. There will be a series of individual function tests. Ensure that ALL of the online tests pass BEFORE moving on to Space.java
Note that you will get style warnings for the variables from the skeleton file. You can ignore these warnings below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Body.java:X:XX: Variable 'px' must be private and have get/set methods.
Body.java:X:XX: Variable 'py' must be private and have get/set methods.
Body.java:X:XX: Variable 'vx' must be private and have get/set methods.
Body.java:X:XX: Variable 'vy' must be private and have get/set methods.
Body.java:X:XX: Variable 'm' must be private and have get/set methods.
Body.java:X:XX: Variable 'img' must be private and have get/set methods.
</code></pre></div></div>

<p>All other style warnings must be corrected. The above style warning relates to visibility, which will be discussed in class in the coming week. However, for this assignment, do not make these variables private. You will not lose points for these checkstyle errors, but you will lose points if you make these variables private.</p>

<hr />

<h3 id="2-spacejava">2. Space.java</h3>

<h4 id="a-purpose-1">A. Purpose</h4>

<p>Your <code class="language-plaintext highlighter-rouge">Space.java</code> file will act as the “planet manager”. Any Space object you create will maintain an array of planets, and provide means to simulate all the planets’ movements en masse (that is, all at once rather than 1 at a time). Space also maintains the radius of the system we are simulating. Further, <code class="language-plaintext highlighter-rouge">Space.java</code> is responsible for drawing the starfield background and the planets in the starfield.</p>

<p>Begin by opening the skeleton file for <code class="language-plaintext highlighter-rouge">Space.java</code>.</p>

<hr />

<h4 id="b-fields-1">B. Fields</h4>

<p>The fields provided in the skeleton are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Body[] bodies</code> - an array of body objects (the planets) in the universe</li>
  <li><code class="language-plaintext highlighter-rouge">double radius</code> - the radius of the universe</li>
</ul>

<p>These attributes maintain the “state” of the body. Later on in our program, we’ll talk about when we manipulate these variables to simulate motion and gravity. However, for now, just view them as field variables similar to field variables of other objects we have covered in class.</p>

<p>Again, it’s important you don’t modify these variable declarations. You will get a style warning saying to make these variables private. Leave these variables public, however, and ignore those style warnings. You will not lose points for these style warnings, but you will lose points if you make these variables private.</p>

<hr />

<h4 id="c-constructor-1">C. Constructor</h4>

<p>The constructor takes in a universe file (a text file containing all the relevant information of the universe we’re simulating). It uses this file to set the value radius variable (one of the fields in our Space class), as well as to initialize and populate the bodies array.
You will be provided with a text file of the following format. (Note the blue text is not in the file, we have it here just to annotate the file.)</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="mi">5</span>        <span class="n">numBodies</span>
<span class="mf">2.50</span><span class="n">e</span><span class="o">+</span><span class="mi">11</span> <span class="n">radius</span> 
<span class="mf">5.97400</span><span class="n">e</span><span class="o">+</span><span class="mi">24</span>  <span class="mf">1.49600</span><span class="n">e</span><span class="o">+</span><span class="mi">11</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">2.98000</span><span class="n">e</span><span class="o">+</span><span class="mo">04</span>    <span class="n">earth</span><span class="o">.</span><span class="na">gif</span>
<span class="mf">6.41900</span><span class="n">e</span><span class="o">+</span><span class="mi">23</span>  <span class="mf">2.27900</span><span class="n">e</span><span class="o">+</span><span class="mi">11</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">2.41000</span><span class="n">e</span><span class="o">+</span><span class="mo">04</span>     <span class="n">mars</span><span class="o">.</span><span class="na">gif</span>
<span class="mf">3.30200</span><span class="n">e</span><span class="o">+</span><span class="mi">23</span>  <span class="mf">5.79000</span><span class="n">e</span><span class="o">+</span><span class="mi">10</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">4.79000</span><span class="n">e</span><span class="o">+</span><span class="mo">04</span>  <span class="n">mercury</span><span class="o">.</span><span class="na">gif</span>
<span class="mf">1.98900</span><span class="n">e</span><span class="o">+</span><span class="mi">30</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>      <span class="n">sun</span><span class="o">.</span><span class="na">gif</span>
<span class="mf">4.86900</span><span class="n">e</span><span class="o">+</span><span class="mi">24</span>  <span class="mf">1.08200</span><span class="n">e</span><span class="o">+</span><span class="mi">11</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">0.00000</span><span class="n">e</span><span class="o">+</span><span class="mo">00</span>  <span class="mf">3.50000</span><span class="n">e</span><span class="o">+</span><span class="mo">04</span>    <span class="n">venus</span><span class="o">.</span><span class="na">gif</span>
<span class="n">m</span>            <span class="n">px</span>           <span class="n">py</span>           <span class="n">vx</span>           <span class="n">vy</span>             <span class="n">img</span>
</code></pre></div></div>

<p>In this file,</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">numBodies</code> is the number of bodies in the simulation.</li>
  <li><code class="language-plaintext highlighter-rouge">radius</code> is the radius of the universe; your simulation will assume that all bodies will have x- and y-coordinates between the values, -radius and radius.</li>
</ul>

<p>There will be <code class="language-plaintext highlighter-rouge">numBodies</code> rows of text remaining in the file, each containing six values:</p>

<ul>
  <li>the mass of the body in kilograms (<code class="language-plaintext highlighter-rouge">m</code>)</li>
  <li>the initial x- and y-coordinates of the particle in metres (<code class="language-plaintext highlighter-rouge">px</code>, <code class="language-plaintext highlighter-rouge">py</code>)</li>
  <li>the initial x- and y-components of the particle velocity in metres per second (<code class="language-plaintext highlighter-rouge">vx</code>, <code class="language-plaintext highlighter-rouge">vy</code>)</li>
  <li>the filename of the image file used to represent the particle in the simulation</li>
</ul>

<p>Remember, unlike in HW2, you will not be storing these values into arrays. Rather, you should use all of the data in each row of the file to instantiate one Body object and then store that object into the bodies array.</p>

<p>Start by opening the file the same as you did in HW2 by creating an In variable to read a file. If you forgot how to do this, you can look at the <em>Reading From a File</em> portion of hw2.</p>

<p>From there, you will process the file similarly to HW2. However, instead of storing the data in arrays, like you did in HW2, you will store the data in objects. First, read numBodies. Once you know how many bodies there are, you can create your Body array variable. Your Body array should have size <code class="language-plaintext highlighter-rouge">numBodies</code>, so initialize that array now.
After that, you can set the Space <code class="language-plaintext highlighter-rouge">radius</code> variable. Immediately after setting this variable, you can go ahead and call:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">PennDraw</span><span class="o">.</span><span class="na">setXscale</span><span class="o">(-</span><span class="n">radius</span><span class="o">,</span> <span class="n">radius</span><span class="o">);</span>
<span class="nc">PennDraw</span><span class="o">.</span><span class="na">setYscale</span><span class="o">(-</span><span class="n">radius</span><span class="o">,</span> <span class="n">radius</span><span class="o">);</span>
</code></pre></div></div>

<p>Finally, iterate through the next <code class="language-plaintext highlighter-rouge">numBodies</code> lines for the input file. For each line, you should create an instance of the Body class and store that instance in the bodies array.</p>

<hr />

<h4 id="d-methods-1">D. Methods</h4>

<hr />

<h5 id="tostring-1">toString</h5>

<p><code class="language-plaintext highlighter-rouge">String toString()</code></p>

<p>Once again, this method is given too you, do not change it. The output of this method should match the print statement in HW2.</p>

<h5 id="simulate">simulate</h5>

<p><code class="language-plaintext highlighter-rouge">void simulate(double timeStep)</code></p>

<p>In this method, you will simulate the physics of the bodies for a duration of timeStep. You can think of this as similar to the contents of one iteration of your time loop in HW2. In this method, you must first update the velocities of all the bodies. After ALL of the bodies velocities are updated, you must update the positions of the bodies. If you are finding your results are slightly off, you may have the update velocities and update positions either out of order or staggered.</p>

<p>Note that this method has no time loop, that will be handled in the final class you write for this assignment. So you should have no loop that is over a duration of time. You will, however, have multiple loops over the bodies arrays.</p>

<h5 id="updating-velocities">Updating Velocities</h5>

<p>To update the velocities, you will use the <code class="language-plaintext highlighter-rouge">getAffectedBy()</code> method on each body multiple times. Say for example we were simulating three body variables: earth, sun, and moon. You would need to call:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">earth</span><span class="o">.</span><span class="na">getAffectedBy</span><span class="o">(</span><span class="n">sun</span><span class="o">,</span> <span class="n">timeStep</span><span class="o">);</span>    <span class="n">earth</span><span class="o">.</span><span class="na">getAffectedBy</span><span class="o">(</span><span class="n">moon</span><span class="o">,</span> <span class="n">timeStep</span><span class="o">);</span>
<span class="n">sun</span><span class="o">.</span><span class="na">getAffectedBy</span><span class="o">(</span><span class="n">earth</span><span class="o">,</span> <span class="n">timeStep</span><span class="o">);</span>    <span class="n">sun</span><span class="o">.</span><span class="na">getAffectedBy</span><span class="o">(</span><span class="n">moon</span><span class="o">,</span> <span class="n">timeStep</span><span class="o">);</span>
<span class="n">moon</span><span class="o">.</span><span class="na">getAffectedBy</span><span class="o">(</span><span class="n">sun</span><span class="o">,</span> <span class="n">timeStep</span><span class="o">);</span>    <span class="n">moon</span><span class="o">.</span><span class="na">getAffectedBy</span><span class="o">(</span><span class="n">earth</span><span class="o">,</span> <span class="n">timeStep</span><span class="o">);</span>
</code></pre></div></div>

<p>Note that in this class, you don’t have body variables. Rather, you have a array storing Body objects. You must have each planet getAffectedBy() every other planet. However, you do not want a planet to affect itself (i.e., the earth’s gravity has no effect on the earth itself).</p>

<h5 id="updating-positions">Updating Positions</h5>

<p>After updating velocities, you should update all planet positions. This can be done by simply calling the <code class="language-plaintext highlighter-rouge">move()</code> method on each body instance.</p>

<h5 id="draw-1">draw</h5>

<p><code class="language-plaintext highlighter-rouge">void draw()</code></p>

<p>First, this method should draw the <code class="language-plaintext highlighter-rouge">starfield.jpg</code> at the center of the screen. Similar to HW2, this can be accomplished by <code class="language-plaintext highlighter-rouge">PennDraw.picture(0.0, 0.0, "starfield.jpg")</code>. After drawing the starfield, this method will draw each body. This should be done by calling every individual body’s draw method.</p>

<h4 id="e-checkpoint-1">E. Checkpoint</h4>

<p>At this point, you can submit both <code class="language-plaintext highlighter-rouge">Body.java</code> and <code class="language-plaintext highlighter-rouge">Space.java</code> to Gradescope. You should ensure all tests are passing.</p>

<p>To test drawing, add a <code class="language-plaintext highlighter-rouge">main()</code> function to Space.java and add the following two lines of code to it.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">Space</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Space</span><span class="o">(</span><span class="s">"solarSystem.txt"</span><span class="o">);</span>
<span class="n">s</span><span class="o">.</span><span class="na">draw</span><span class="o">();</span>
</code></pre></div></div>

<p>This should produce the following drawing:</p>

<p><img src="images/nbody2.png" alt="" /></p>

<p>If your drawing does not look like this, try to debug your <code class="language-plaintext highlighter-rouge">draw()</code> functions. Consider:</p>

<ul>
  <li>Are you drawing each body’s picture correctly in Body.java?</li>
  <li>Are you drawing the bodies on top of the starfield, or the starfield on top of the bodies?</li>
</ul>

<hr />

<h3 id="3-nbodyobjjava">3. NBodyObj.java</h3>

<h3 id="a-purpose-2">A. Purpose</h3>

<p>This is the “main” class that executes NBody. This is the file you will run to utilize the Space and Body classes to simulate a gravity. this program will take in command line arguments, create the Space object, and then execute the time loop to simulate the movement of the planets. This will also be by far your smallest class in this program.</p>

<p>You were not given a skeleton for this program. However, you will only need one function, and that is your standard main function. All your code should be in main.</p>

<hr />

<h4 id="command-line-arguments">Command Line Arguments</h4>

<p>These command line arguments are the same as HW2.</p>

<ul>
  <li>The first argument is the simulationTime, the total time to simulate the solar system.</li>
  <li>The second argument is the timeStep, the duration of each “step” of the simulation</li>
  <li>The third argument is filename, the name of your universe file.</li>
</ul>

<p>Utilize these arguments the same way as in HW2. For a command line below should simulate our inner solar system for the duration of one year, run your program with:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">java</span> <span class="nc">NBodyObj</span> <span class="mf">31557600.0</span> <span class="mf">25000.0</span> <span class="n">solarSystem</span><span class="o">.</span><span class="na">txt</span>
</code></pre></div></div>

<hr />

<h4 id="b-creating-the-space-object">B. Creating the Space Object</h4>

<p>You simply need to create an instance of the Space class using the input filename. This should be done after you process the Command Line Arguments, but before the Time Loop.</p>

<hr />

<h4 id="c-time-loop">C. Time Loop</h4>

<p>Similar to HW2, you should have a loop to iterate over the duration of the simulation, starting at elapsedTime = 0 and looping until elapsedTime is no longer less than simulationTime. You should increment elapsedTime by timeStep every time.</p>

<p>Do not forget to use <code class="language-plaintext highlighter-rouge">PennDraw.enableAnimation()</code>, <code class="language-plaintext highlighter-rouge">PennDraw.advance()</code>, and <code class="language-plaintext highlighter-rouge">PennDraw.disableAnimation()</code> in the appropriate places.</p>

<p>Within the body of the time loop, you should simply call the <code class="language-plaintext highlighter-rouge">simulate()</code> and <code class="language-plaintext highlighter-rouge">draw()</code> methods on your Space object. Because Space class handles all of the physics simulation, it keeps this loop very simple and short.
After your time loop finishes (that is, after the closing bracket of the loop), for testing purposes, write the following line of code:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">nameOfYourSpaceVariable</span><span class="o">);</span>
</code></pre></div></div>

<p>Replace <code class="language-plaintext highlighter-rouge">nameOfYourSpaceVariable</code> with the variable name you got from “Creating the Space Object”.</p>

<p>This will cause the Space object’s <code class="language-plaintext highlighter-rouge">toString()</code> function to be called. This will print the universe’s parameters, including all the details about the planets, AFTER your simulation finishes. This will be useful for comparing the output of your NBodyObj with the expected output in the submission report.</p>

<hr />

<h4 id="a-readme">A. Readme</h4>

<p>Complete <code class="language-plaintext highlighter-rouge">readme_nbody2.txt</code> in the same way that you have done for previous assignments.</p>

<h4 id="b-submission">B. Submission</h4>

<p>Submit <code class="language-plaintext highlighter-rouge">Body.java</code>, <code class="language-plaintext highlighter-rouge">Space.java</code>, <code class="language-plaintext highlighter-rouge">NBodyObj.java</code>, and <code class="language-plaintext highlighter-rouge">readme_nbody2.txt</code> on Gradescope.</p>

<p>Before submission remove any print statements that were used for debugging or testing your functions. The only print statement that shouldn’t be removed is the final print statement in <code class="language-plaintext highlighter-rouge">NBodyObj.java</code>.</p>

<p>Be sure that each class had an appropriate header comment (as in previous assignments). Also ensure that every method has an appropriate header comment, and that your code is well-documented.</p>

<p>If the autograder times out when you submit, you likely have an infinite loop somewhere. You might have &lt;= in place of &lt;, or incorrect incrementing conditions. Check your loops and make sure you test it yourself.</p>

<p>As noted in several places, you will get some style warnings here. You can ignore the following style warnings:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Body.java:X:XX: Variable 'px' must be private and have get/set methods.
Body.java:X:XX: Variable 'py' must be private and have get/set methods.
Body.java:X:XX: Variable 'vx' must be private and have get/set methods.
Body.java:X:XX: Variable 'vy' must be private and have get/set methods.
Body.java:X:XX: Variable 'm' must be private and have get/set methods.
Body.java:X:XX: Variable 'img' must be private and have get/set methods.
Space.java:X:XX: Variable 'bodies' must be private and have get/set methods.
Space.java:X:XX: Variable 'radius' must be private and have get/set methods.
</code></pre></div></div>

<p>These style warnings relate to visibility, which will be discussed in class in the coming week. However, as noted in the skeleton, do not edit these variables. Simply leave them as is. However, you must fix all other style warnings.</p>

    
  </div>

  <footer class="text-center text-muted">
    <hr>
    
    
    <br>
  </footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
  <script type="text/javascript">
    $(document).ready(function () {
      $("#nbody_objects").addClass("active");
      
    });
  </script>
</body>

</html>